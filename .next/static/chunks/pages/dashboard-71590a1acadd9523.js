(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(1998)}])},957:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5893);function r(e){let t,{type:s,className:r="w-17 h-16"}=e;switch(String(s||"").trim()){case"Dumbbell":case"Dumbell":t="/images/equipment-icon/Dumbbell.png";break;case"Barbell":default:t="/images/equipment-icon/Barbell.png";break;case"Weight Stack":t="/images/equipment-icon/Weight_stack.png"}return(0,a.jsx)("img",{src:t,alt:"".concat(s," icon"),className:r})}},1998:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(5893),r=s(9008),l=s.n(r),i=s(7294);s(1664);var n=s(1163),o=s(1127),c=s(2492),d=s(957);function h(e){let{workout:t}=e,s=(0,n.useRouter)();return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5 hover:bg-white/10 active:opacity-70 transition-all duration-200 border border-white/10 cursor-pointer",role:"button","aria-label":"Open history for ".concat(t.exercise),onClick:()=>{s.push("/history?exercise=".concat(encodeURIComponent(t.exercise),"&date=").concat(encodeURIComponent(t.date)))},children:[(0,a.jsx)("div",{className:"w-10 h-10 flex items-center justify-center flex-shrink-0 rounded-xl text-white",style:{backgroundColor:{Barbell:"#fbbf24",Dumbbell:"#3b82f6","Weight Stack":"#f97316"}[t.equipment]||"#7c3aed"},children:(0,a.jsx)(d.Z,{type:t.equipment,className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white truncate",children:t.exercise}),(0,a.jsxs)("div",{className:"text-xs text-white/70 mt-0.5 truncate",children:[t.weight," kg \xb7 ",t.reps," reps"]})]}),(0,a.jsx)("div",{className:"text-white/40",children:(0,a.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7l-7 7"})})})]})}var u=s(1261),x=s(386),m=s(7017),p=s(5615),w=s(8793),b=s(6189),f=s(6962),g=s(6409);function v(e){let{currentWeek:t=[],calendar3Months:s=[],onDaySelect:r=()=>{},onMonthSelect:l=()=>{},variant:i="mobile"}=e,n="desktop"===i,o=e=>{let t=n?"w-9 h-9":"w-7 h-7";return e.isToday?"".concat(t," bg-white/80 text-black border-2 border-white/80"):e.isWorkout&&!e.isFuture?"".concat(t," border-2 border-purple-400 text-purple-400"):e.isFuture?"".concat(t," text-white/20"):"".concat(t," text-white/40")},c=e=>"".concat(n?"text-xs font-medium mb-1.5":"text-xs font-medium mb-1"," ").concat(e.isFuture?"text-white/40":"text-white/70"),d=e=>null===e.day?"":e.isToday?"bg-white/80":e.isFuture?"bg-white/10":e.isWorkout?"bg-gradient-to-r from-purple-400 to-purple-500 shadow-lg shadow-purple-500/50":"bg-white/30",h=n?"w-2 h-2":"w-1.5 h-1.5",u=n?"gap-1.5":"gap-1";return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("h3",{className:n?"text-sm font-semibold text-white/90 mb-5 uppercase tracking-wide":"text-sm font-semibold text-white/90 mb-4",children:"Activity Overview"}),(0,a.jsxs)("div",{className:n?"backdrop-blur-sm bg-white/5 border border-white/10 rounded-2xl p-4 mb-4 flex-shrink-0":"bg-white/5 border border-white/10 rounded-2xl p-4 mb-3",children:[(0,a.jsx)("p",{className:"text-xs text-white/50 mb-3 uppercase tracking-wide font-semibold",children:"This Week"}),(0,a.jsx)("div",{className:"flex justify-between items-center gap-2",children:t.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>!e.isFuture&&r(e),disabled:e.isFuture,className:"flex flex-col items-center transition-all duration-300 flex-1 ".concat(e.isFuture?"opacity-40 cursor-not-allowed":n?"hover:opacity-80 active:opacity-60":"active:opacity-70"),children:[(0,a.jsx)("div",{className:c(e),children:e.dayName}),(0,a.jsx)("div",{className:"".concat(o(e)," rounded-full flex items-center justify-center text-xs font-semibold transition-all duration-300"),children:e.day})]},t))})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-hidden mt-1 md:mt-2",children:[(0,a.jsx)("p",{className:"text-xs text-white/50 mb-3 md:mb-4 uppercase tracking-wide font-semibold",children:"Last 3 Months"}),(0,a.jsx)("div",{className:n?"grid grid-cols-3 gap-4":"grid grid-cols-3 gap-2",children:s.map(e=>(0,a.jsxs)("button",{onClick:()=>l(e.month,e.year),className:"flex flex-col items-center hover:bg-white/10 active:opacity-70 rounded-lg p-2 transition-all duration-200",children:[(0,a.jsx)("div",{className:n?"text-xs font-semibold text-white/80 mb-3 uppercase":"text-xs font-semibold text-white/80 mb-2 uppercase",children:e.monthName}),(0,a.jsx)("div",{className:"".concat("grid grid-cols-7"," ").concat(u),children:e.days.map((e,t)=>{if(null===e.day)return(0,a.jsx)("div",{className:h},t);let s=d(e);return(0,a.jsx)("div",{className:"".concat(h," rounded-full ").concat(s," transition-all duration-300"),title:e.day?e.isToday?"Today":e.isWorkout?"Workout day":"Rest day":""},t)})})]},"".concat(e.month,"-").concat(e.year)))})]})]})}var j=s(7333);function y(){let{profile:e}=(0,g.G)(),t=(0,n.useRouter)();t.pathname;let{availability:s,permissionGranted:r,connecting:d,connectingDeviceId:y,connected:k,device:N,devicesFound:D,scanning:W,pairMessage:M,error:S,scanDevices:C,connectToDevice:L,disconnect:E,setPairMessage:F}=(0,j.E)(),[T,q]=(0,i.useState)(!1),B=(0,i.useRef)(null),R=()=>{try{window.localStorage.removeItem("userProfile"),window.localStorage.removeItem("authToken"),window.localStorage.removeItem("scannedEquipment")}catch(e){console.error("Failed to clear storage:",e)}q(!1),setTimeout(()=>{t.replace("/splash?slide=3")},100)};(0,i.useEffect)(()=>{function e(e){B.current&&!B.current.contains(e.target)&&q(!1)}return T&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[T]);let[_,A]=(0,i.useState)(0),P=(0,i.useRef)(null),z=(0,i.useRef)(null),O=(0,i.useRef)(null),[I,Z]=(0,i.useState)(0),[G,J]=(0,i.useState)({width:0,gap:16}),[K,U]=(0,i.useState)("week"),V=e=>{var t;let s=P.current;if(!s)return;let a=null===(t=s.children)||void 0===t?void 0:t[e];if(!a)return;let r=a.offsetLeft-(s.clientWidth-a.clientWidth)/2;try{s.scrollTo({left:r,behavior:"smooth"})}catch(e){s.scrollLeft=r}A(e)};(0,i.useEffect)(()=>{let e=()=>{var e;if(!O.current)return;let t=null===(e=O.current.children)||void 0===e?void 0:e[0];if(!t)return;let s=t.getBoundingClientRect(),a=window.getComputedStyle(O.current),r=parseFloat(a.columnGap||a.gap||0)||0;J({width:s.width,gap:r}),Z(O.current.children.length)},t=new ResizeObserver(e);return O.current&&t.observe(O.current),window.addEventListener("resize",e),e(),()=>{t.disconnect(),window.removeEventListener("resize",e)}},[]),(0,i.useEffect)(()=>{0!==I&&A(e=>Math.min(e,I-1))},[I]),(0,i.useEffect)(()=>{let e=P.current;if(!e)return;let t=()=>{let t=Math.max(0,Math.round((e.scrollLeft-40)/400)),s=Math.max((I||2)-1,1);A(Math.min(t,s));try{clearTimeout(z.current)}catch(e){}z.current=setTimeout(()=>{V(Math.min(Math.max(t,0),s))},300)};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[I]);let X=[{id:1,exercise:"Concentration Curls",equipment:"Dumbbell",weight:15,reps:10,date:"2 days ago"},{id:2,exercise:"Overhead Extension",equipment:"Dumbbell",weight:18,reps:12,date:"2 days ago"},{id:3,exercise:"Bench Press",equipment:"Barbell",weight:80,reps:5,date:"1 day ago"},{id:4,exercise:"Front Squat",equipment:"Barbell",weight:70,reps:8,date:"1 day ago"},{id:5,exercise:"Lateral Pulldown",equipment:"Weight Stack",weight:65,reps:10,date:"3 days ago"},{id:6,exercise:"Leg Extensions",equipment:"Weight Stack",weight:90,reps:12,date:"3 days ago"}];(0,i.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration("/sw.js").then(e=>{e||navigator.serviceWorker.register("/sw.js").then(e=>console.log("SW registered:",e.scope)).catch(e=>console.log("SW registration failed:",e))}).catch(()=>{})},[]);let Y=()=>{E()},H={workoutDaysByMonth:{10:[2,7,12,17,22,27],0:[2,5,8,12,15,18,22,25],1:[3,7,10,14,17,21,24,28]},lastWorkout:{exercise:"Bicep Curls",equipment:"Dumbbell",weight:12,date:new Date}},Q=(()=>{let e=new Date,t=e.getFullYear(),s=e.getMonth(),a=e.getDate(),r=[];for(let e=-2;e<=0;e++){let i=new Date(t,s+e,1),n=i.getFullYear(),o=i.getMonth(),c=new Date(n,o,1),d=new Date(n,o+1,0).getDate(),h=c.getDay(),u=[];for(let e=0;e<h;e++)u.push({day:null,isWorkout:!1,isFuture:!1});for(let e=1;e<=d;e++){var l;let t=o===s,r=t&&e>a,i=t&&e===a,n=(null===(l=H.workoutDaysByMonth[o])||void 0===l?void 0:l.includes(e))||!1;u.push({day:e,isWorkout:n,isFuture:r,isToday:i})}r.push({month:o,monthName:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][o],year:n,days:u})}return r})(),$=(()=>{let e=new Date,t=e.getMonth(),s=e.getDate(),a=e.getDay(),r=new Date(e);r.setDate(e.getDate()-a);let l=[],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let a=0;a<7;a++){var n;let o=new Date(r);o.setDate(r.getDate()+a);let c=o.getDate(),d=o.getMonth(),h=c===s&&d===t,u=o>e,x=(null===(n=H.workoutDaysByMonth[d])||void 0===n?void 0:n.includes(c))||!1;l.push({day:c,dayName:i[a],isToday:h,isFuture:u,isWorkout:x})}return l})(),ee={day:[{time:"6 AM",load:0},{time:"9 AM",load:12},{time:"12 PM",load:18},{time:"3 PM",load:25},{time:"6 PM",load:22},{time:"9 PM",load:15}],week:[{day:"Mon",load:12},{day:"Tue",load:18},{day:"Wed",load:25},{day:"Thu",load:22},{day:"Fri",load:30.5},{day:"Sat",load:28},{day:"Sun",load:15}],month:[{week:"W1",load:85},{week:"W2",load:92},{week:"W3",load:105},{week:"W4",load:98}]}[K],et=ee.reduce((e,t)=>e+t.load,0);return ee.map(e=>e.load),(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white pb-32",children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"AppLift Dashboard"}),(0,a.jsx)("meta",{name:"theme-color",content:"#0b0b0d"})]}),(0,a.jsx)(o.Z,{}),(0,a.jsx)("main",{className:"w-full px-4 sm:px-6 md:px-8 pt-10 sm:pt-10 pb-4 md:pb-6",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",ref:B,children:[(0,a.jsx)("button",{onClick:()=>q(!T),className:"w-12 h-12 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 border border-white/20 flex items-center justify-center flex-shrink-0 hover:border-white/40 transition-colors","aria-label":"Profile menu",children:(0,a.jsx)("span",{className:"text-lg font-semibold text-white",children:"AV"})}),T&&(0,a.jsx)("div",{className:"absolute top-14 left-0 z-50 min-w-[180px] rounded-2xl bg-black/80 border border-white/10 shadow-lg",style:{backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:(0,a.jsx)("button",{onClick:()=>{q(!1),R()},className:"w-full px-4 py-3 text-left text-white/90 hover:text-white hover:bg-white/10 transition-colors rounded-2xl text-sm font-medium first:rounded-t-2xl last:rounded-b-2xl",children:"Sign out"})})]}),(0,a.jsx)("div",{className:"flex flex-col leading-tight",children:(0,a.jsxs)("span",{className:"text-2xl sm:text-3xl font-bold text-white",children:["Hello, ",(0,a.jsx)("span",{className:"text-purple-300",children:(null==e?void 0:e.name)||"Alliya"}),"!"]})})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("button",{className:"p-2 rounded-full text-white/90","aria-label":"Notifications",children:(0,a.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0 1 18 14.158V11a6 6 0 1 0-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 1 1-6 0v-1h6z"})})})})]}),(0,a.jsx)("div",{className:"flex justify-center content-fade-up-1",children:(0,a.jsx)(c.Z,{connected:k,device:N,onScan:C,onConnect:L,onDisconnect:Y,scanning:W,devicesFound:D,availability:s})}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-5 md:mb-6 content-fade-up-2",children:(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Overview"})}),(0,a.jsx)("section",{className:"mb-8 md:mb-10 content-fade-up-3 -mx-4 sm:mx-0",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"block md:hidden mb-6",children:[(0,a.jsxs)("div",{ref:P,className:"flex gap-4 overflow-x-auto pb-2 snap-x snap-mandatory snap-center scrollbar-hide scroll-smooth px-4",children:[(0,a.jsx)("article",{className:"min-w-[calc(100vw-24px)] w-[calc(100vw-24px)] max-w-[384px] shrink-0 snap-center rounded-3xl bg-white/10 border border-white/20 p-5 shadow-2xl h-[320px] flex flex-col",children:(0,a.jsx)(v,{currentWeek:$,calendar3Months:Q,onDaySelect:e=>t.push("/history?day=".concat(e.day)),onMonthSelect:(e,s)=>t.push("/history?month=".concat(e,"&year=").concat(s)),variant:"mobile"})}),(0,a.jsxs)("article",{className:"min-w-[calc(100vw-24px)] w-[calc(100vw-24px)] max-w-[384px] shrink-0 snap-center rounded-3xl bg-white/10 border border-white/20 p-5 shadow-2xl h-[320px] flex flex-col",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-white/90 mb-4",children:"Recent Workouts"}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide space-y-2.5",children:X.slice(0,5).map(e=>(0,a.jsx)(h,{workout:e},e.id))})]})]}),(0,a.jsx)("div",{className:"flex justify-center gap-2.5 mt-6",children:Array.from({length:Math.max(I||2,2)}).map((e,t)=>(0,a.jsx)("button",{onClick:()=>V(t),className:"".concat(t===_?"bg-white h-2 w-8":"bg-white/30 h-2 w-2"," rounded-full transition-all duration-300"),"aria-label":"Go to slide ".concat(t+1)},t))})]}),(0,a.jsxs)("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-3xl p-6 shadow-2xl hover:shadow-3xl transition-all duration-300 h-[320px] flex flex-col",children:(0,a.jsx)(v,{currentWeek:$,calendar3Months:Q,onDaySelect:e=>t.push("/history?day=".concat(e.day)),onMonthSelect:(e,s)=>t.push("/history?month=".concat(e,"&year=").concat(s)),variant:"desktop"})}),(0,a.jsxs)("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-3xl p-6 shadow-2xl hover:shadow-3xl transition-all duration-300 h-[320px] flex flex-col",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-white/90 mb-5 uppercase tracking-wide",children:"Recent Workouts"}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide space-y-3",children:X.slice(0,5).map(e=>(0,a.jsx)(h,{workout:e},e.id))})]})]})]})}),(0,a.jsx)("section",{className:"mb-8 md:mb-10 content-fade-up-4",children:(0,a.jsxs)("div",{className:"bg-black rounded-3xl p-6 sm:p-8 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Workout"}),(0,a.jsx)("p",{className:"text-xs text-white/60 capitalize",children:"day"===K?"Today":"week"===K?"Last 7 Days":"Last 4 Weeks"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-300",children:[et.toFixed(1)," kg"]}),(0,a.jsx)("div",{className:"text-xs text-white/60",children:"Total"})]})]}),(0,a.jsx)("div",{className:"w-full h-64 sm:h-72 md:h-80 -mx-4 sm:-mx-6",children:(0,a.jsx)(u.h,{width:"100%",height:"100%",children:(0,a.jsxs)(x.w,{data:ee,margin:{top:10,right:20,left:-20,bottom:20},children:[(0,a.jsx)(m.q,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,a.jsx)(p.K,{dataKey:"day"===K?"time":"week"===K?"day":"week",stroke:"rgba(255,255,255,0.5)",style:{fontSize:"12px"}}),(0,a.jsx)(w.B,{stroke:"rgba(255,255,255,0.5)",style:{fontSize:"12px"}}),(0,a.jsx)(b.u,{contentStyle:{backgroundColor:"rgba(0,0,0,0.9)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",padding:"12px 16px"},labelStyle:{color:"#fef08a"},formatter:e=>["".concat(e," kg"),"Load"]}),(0,a.jsx)(f.x1,{type:"monotone",dataKey:"load",stroke:"#fef08a",strokeWidth:3,dot:{fill:"#fef08a",r:6},activeDot:{r:8,fill:"#fef08a"},isAnimationActive:!0})]})})})]})}),(0,a.jsx)("div",{className:"h-4"})]})}),(0,a.jsx)("div",{className:"fixed bottom-6 right-6",children:k?(0,a.jsx)("button",{onClick:Y,className:"px-4 py-2 rounded-md bg-white/6 text-white border border-white/10","aria-label":"Disconnect device",children:"Disconnect"}):null})]})}}},function(e){e.O(0,[996,645,231,964,888,774,179],function(){return e(e.s=1075)}),_N_E=e.O()}]);