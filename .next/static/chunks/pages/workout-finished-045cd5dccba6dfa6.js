(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{1669:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workout-finished",function(){return s(1943)}])},1943:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(5893),l=s(1163),n=s(7294);function r(e){let{repData:t,repNumber:s}=e,{time:l,rom:n,peakVelocity:r,isClean:i,chartData:o}=t;return(0,a.jsxs)("div",{className:"bg-[#252525] rounded-2xl p-4 min-w-full shadow-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-white",children:["Rep ",s]}),(0,a.jsx)("span",{className:"text-xs font-semibold px-2 py-1 rounded-full ".concat(i?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"),children:i?"✓ Clean":"⚠ Check Form"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"w-28 h-28 flex-shrink-0 bg-[#1f1f1f] rounded-xl overflow-hidden",children:o&&o.length>0?(0,a.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 112 112",preserveAspectRatio:"none",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"repGradient".concat(s),x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,a.jsx)("stop",{offset:"0%",style:{stopColor:i?"#10b981":"#f59e0b",stopOpacity:.6}}),(0,a.jsx)("stop",{offset:"100%",style:{stopColor:i?"#10b981":"#f59e0b",stopOpacity:.05}})]})}),(0,a.jsx)("polygon",{points:"\n                  ".concat(o.map((e,t)=>{let s=t/(o.length-1)*112;return"".concat(s,",").concat(112-(92*Math.max(0,Math.min(1,e/20))+10))}).join(" "),"\n                  112,112 0,112\n                "),fill:"url(#repGradient".concat(s,")")}),(0,a.jsx)("polyline",{points:o.map((e,t)=>{let s=t/(o.length-1)*112;return"".concat(s,",").concat(112-(92*Math.max(0,Math.min(1,e/20))+10))}).join(" "),fill:"none",stroke:i?"#10b981":"#f59e0b",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(()=>{let e=o.reduce((e,t,s,a)=>t>a[e]?s:e,0),t=o[e],s=e/(o.length-1)*112;return(0,a.jsx)("circle",{cx:s,cy:112-(92*Math.max(0,Math.min(1,t/20))+10),r:"4",fill:"white",stroke:i?"#10b981":"#f59e0b",strokeWidth:"2"})})()]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500 text-xs",children:"No data"})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-center space-y-2.5",children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Time:"}),(0,a.jsx)("span",{className:"text-base font-bold text-white",children:l?"".concat(l.toFixed(1),"s"):"-"})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"ROM:"}),(0,a.jsx)("span",{className:"text-base font-bold text-white",children:n?"".concat(n.toFixed(0),"\xb0"):"-"})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Peak Velocity:"}),(0,a.jsx)("span",{className:"text-base font-bold text-white",children:r?"".concat(r.toFixed(1),"m/s"):"-"})]})]})]})]})}function i(e){let{repsData:t}=e,[s,l]=(0,n.useState)(0),[i,o]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),x=(0,n.useRef)(null);return t&&0!==t.length?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{ref:x,className:"overflow-hidden",onTouchStart:e=>{o(e.touches[0].clientX)},onTouchMove:e=>{d(e.touches[0].clientX)},onTouchEnd:()=>{if(!i||!c)return;let e=i-c;e>50&&s<t.length-1&&l(s+1),e<-50&&s>0&&l(s-1),o(0),d(0)},children:(0,a.jsx)("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:"translateX(-".concat(100*s,"%)")},children:t.map((e,t)=>(0,a.jsx)("div",{className:"w-full flex-shrink-0",children:(0,a.jsx)(r,{repData:e,repNumber:t+1})},t))})}),(0,a.jsx)("div",{className:"flex justify-center gap-1.5 pt-2",children:t.map((e,t)=>(0,a.jsx)("button",{onClick:()=>l(t),className:"h-1.5 rounded-full transition-all ".concat(t===s?"w-6 bg-white":"w-1.5 bg-white/30"),"aria-label":"Go to rep ".concat(t+1)},t))})]}):(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:(0,a.jsx)("p",{className:"text-center text-gray-500 text-sm",children:"No rep data available"})})}function o(){let e=(0,l.useRouter)(),{workoutName:t,equipment:s,totalReps:r,calories:o,totalTime:c,avgConcentric:d,avgEccentric:x,chartData:h,timeData:p,repsData:f,setsData:m,hasCSV:u,recommendedSets:j}=e.query,g=h?JSON.parse(h):[];p&&JSON.parse(p);let b=f?JSON.parse(f):[],N=m?JSON.parse(m):[],[y,w]=(0,n.useState)(!1),[v,k]=(0,n.useState)(1);return(0,n.useEffect)(()=>{"true"===u&&w(!!sessionStorage.getItem("workoutCSV"))},[u]),(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white pb-20",children:[(0,a.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"flex items-center justify-center h-10 w-10 rounded-full hover:bg-white/10 transition-all","aria-label":"Go back",children:(0,a.jsx)("img",{src:"/images/icons/arrow-point-to-left.png",alt:"Back",className:"w-5 h-5 filter brightness-0 invert"})}),(0,a.jsx)("h2",{className:"text-lg font-bold text-white",children:"Workout completed!"}),(0,a.jsx)("div",{className:"w-10"})," "]}),(0,a.jsxs)("div",{className:"px-4 space-y-5 max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"mt-6 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 top-3 bg-gradient-to-br from-orange-600/30 to-purple-600/30 rounded-[24px]"}),(0,a.jsxs)("div",{className:"relative bg-[#2a2a2a] rounded-[24px] p-5 shadow-2xl",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Workout Session"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 text-[11px] text-gray-400 flex items-center justify-center gap-1.5 px-3 py-2 rounded-full bg-[#353535]",children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:parseInt(r)||0}),(0,a.jsx)("span",{children:"Reps"})]}),(0,a.jsxs)("div",{className:"flex-1 text-[11px] text-gray-400 flex items-center justify-center gap-1.5 px-3 py-2 rounded-full bg-[#353535]",children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:parseInt(o)||0}),(0,a.jsx)("span",{children:"Cal"})]}),(0,a.jsxs)("div",{className:"flex-1 text-[11px] text-gray-400 flex items-center justify-center gap-1.5 px-3 py-2 rounded-full bg-[#353535]",children:[(0,a.jsxs)("span",{className:"font-semibold text-white",children:[Math.floor((parseInt(c)||0)/60),":",String((parseInt(c)||0)%60).padStart(2,"0")]}),(0,a.jsx)("span",{children:"Time"})]})]}),(0,a.jsx)("div",{className:"relative h-48 bg-[#1f1f1f] rounded-2xl overflow-hidden",children:g&&g.length>0?(0,a.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 400 192",preserveAspectRatio:"none",children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"chartGradientStroke",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,a.jsx)("stop",{offset:"0%",style:{stopColor:"#c084fc",stopOpacity:1}}),(0,a.jsx)("stop",{offset:"50%",style:{stopColor:"#a855f7",stopOpacity:1}}),(0,a.jsx)("stop",{offset:"100%",style:{stopColor:"#9333ea",stopOpacity:1}})]}),(0,a.jsxs)("linearGradient",{id:"chartGradientFill",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,a.jsx)("stop",{offset:"0%",style:{stopColor:"#c084fc",stopOpacity:.4}}),(0,a.jsx)("stop",{offset:"100%",style:{stopColor:"#9333ea",stopOpacity:.05}})]})]}),(()=>{let e=Math.max(...g.map(e=>Math.abs(e.filtered))),t=Math.min(...g.map(e=>Math.abs(e.filtered))),s=e-t||1,l=g.map((e,a)=>{let l=a/(g.length-1||1)*400,n=(Math.abs(e.filtered)-t)/s;return"".concat(l,",").concat(192-172*n-10)}).join(" "),n="".concat(l," 400,192 0,192");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("polygon",{points:n,fill:"url(#chartGradientFill)"}),(0,a.jsx)("polyline",{points:l,fill:"none",stroke:"url(#chartGradientStroke)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 0 10px rgba(168, 85, 247, 0.5))"}})]})})()]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"No chart data available"})})]})]}),(0,a.jsxs)("div",{className:"bg-[#2a2a2a] rounded-[24px] p-5 shadow-xl",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Time Under Tension"}),(0,a.jsx)("div",{className:"relative h-12 bg-[#1f1f1f] rounded-full overflow-hidden shadow-[0_0_30px_rgba(168,85,247,0.2)]",children:(()=>{let e=parseFloat(d)||0,t=parseFloat(x)||0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 via-purple-300 to-white transition-all duration-500",style:{background:"linear-gradient(to right, #a855f7 0%, #e9d5ff ".concat(e/(e+t||1)*100,"%, #ffffff 100%)")}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/50 via-transparent to-transparent blur-md"}),(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-between px-4 text-xs font-medium text-white z-10",children:[(0,a.jsxs)("span",{className:"drop-shadow-lg",children:["Concentric ",e.toFixed(1),"s"]}),(0,a.jsxs)("span",{className:"text-gray-800 drop-shadow-lg",children:["Eccentric ",t.toFixed(1),"s"]})]})]})})()})]}),N.length>0||j?(0,a.jsxs)("div",{className:"bg-[#2a2a2a] rounded-[24px] p-5 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Rep by Rep"}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:Array.from({length:parseInt(j)||N.length||1},(e,t)=>t+1).map(e=>{let t=!!N.find(t=>t.setNumber===e);return(0,a.jsxs)("button",{onClick:()=>k(e),disabled:!t,className:"text-[11px] flex-shrink-0 transition-all flex items-center gap-1.5 px-4 py-2 rounded-full ".concat(v===e&&t?"text-white bg-gradient-to-r from-orange-500 to-orange-600 shadow-lg shadow-orange-500/30":t?"text-gray-400 bg-[#353535] hover:bg-[#404040]":"text-gray-600 bg-[#252525] cursor-not-allowed"),children:["Set ",e]},e)})})]}),(0,a.jsx)("div",{children:N.map(e=>v===e.setNumber?(0,a.jsx)(i,{repsData:e.repsData},e.setNumber):null)})]}):(0,a.jsxs)("div",{className:"bg-[#2a2a2a] rounded-[24px] p-5 shadow-xl",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-4",children:"Rep by Rep"}),(0,a.jsx)(i,{repsData:b})]}),(0,a.jsx)("button",{onClick:()=>e.push("/workouts"),className:"w-full py-3.5 rounded-full font-semibold text-white text-base transition-all bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 shadow-lg shadow-orange-500/20",children:"Save Workout"})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1669)}),_N_E=e.O()}]);