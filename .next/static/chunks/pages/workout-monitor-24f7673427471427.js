(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{1252:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workout-monitor",function(){return s(4278)}])},2492:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(5893),r=s(645),l=s.n(r),i=s(7294);function n(e){var t,s;let{connected:r,device:n,onScan:o,onConnect:c,onDisconnect:d,scanning:u,devicesFound:h=[],availability:m,collapse:x=0}=e,[p,f]=(0,i.useState)(!1),g=(0,i.useRef)(null);(0,i.useEffect)(()=>{function e(e){g.current&&!g.current.contains(e.target)&&f(!1)}return p&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[p]),(0,i.useEffect)(()=>{function e(e){"Escape"===e.key&&f(!1)}return p&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[p]);let b=async()=>{o&&await o()},w=async e=>{c&&(await c(e),f(!1))};return(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsx)("div",{style:{animation:"fadeIn 0.3s ease-out"},onClick:()=>f(!1),className:"jsx-82ef8ed3900938e3 fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] transition-opacity duration-300"}),(0,a.jsx)("div",{ref:g,style:{width:x>0?"56px":"100%",maxWidth:x>0?"56px":"28rem",paddingLeft:x>0||p?"auto":"20px",paddingRight:x>0||p?"auto":"20px",paddingLeft:p?"24px":x>0?"12px":"20px",paddingRight:p?"24px":x>0?"12px":"20px",maxHeight:p?"520px":"88px",background:r?"radial-gradient(circle, rgb(141, 184, 11) 0%, rgb(56, 139, 42) 50%, rgb(59, 105, 2) 100%)":"linear-gradient(90deg, #2A2A2A 0%, #3A3A3A 100%)",borderColor:r?"rgba(5, 150, 105, 0.55)":"rgba(107, 114, 128, 0.45)",boxShadow:r?"0 18px 50px rgba(16, 185, 129, 0.25)":"0 14px 40px rgba(0, 0, 0, 0.25)",transition:p||x>0?"max-height 600ms ease, padding 400ms ease, border-radius 400ms ease, background 800ms ease-in-out, border-color 800ms ease-in-out, box-shadow 800ms ease-in-out, width 600ms ease, max-width 600ms ease":"max-height 600ms ease, padding 400ms ease, border-radius 400ms ease, background 800ms ease-in-out, border-color 800ms ease-in-out, box-shadow 800ms ease-in-out",animation:r?"shimmer 12s linear infinite":"none",backgroundSize:r?"150% 100%":"100% 100%",backgroundPosition:"left center"},className:"jsx-82ef8ed3900938e3 "+"relative overflow-hidden border shadow-lg transition-all duration-600 ease-[cubic-bezier(0.22,1,0.36,1)] ".concat(p?"z-[10000] rounded-[24px] px-6 py-6 w-full max-w-sm":"z-50 rounded-[32px] py-3"),children:!p&&x<1?(0,a.jsxs)("button",{onClick:()=>f(!0),style:{opacity:0===x?1:0},className:"jsx-82ef8ed3900938e3 flex flex-1 items-center gap-3 w-full cursor-pointer active:scale-98 transition-transform duration-300 ease-[cubic-bezier(0.22,1,0.36,1)]",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 "+"flex h-10 w-10 items-center justify-center rounded-full transition-all duration-300 flex-shrink-0 ".concat(r?"bg-white/20":"bg-gray-600/40"),children:(0,a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:"jsx-82ef8ed3900938e3",children:(0,a.jsx)("path",{fill:"#ffffff",d:"m9.41 0l6 6l-4 4l4 4l-6 6H9v-7.59l-3.3 3.3l-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3L9 7.58V0h.41zM11 4.41V7.6L12.59 6L11 4.41zM12.59 14L11 12.41v3.18L12.59 14z",className:"jsx-82ef8ed3900938e3"})})}),(0,a.jsxs)("div",{style:{opacity:Math.max(0,1-1.5*x)},className:"jsx-82ef8ed3900938e3 flex flex-col leading-tight items-start",children:[(0,a.jsx)("span",{className:"jsx-82ef8ed3900938e3 text-xs font-medium tracking-tight text-white",children:"Your Device is"}),(0,a.jsx)("span",{className:"jsx-82ef8ed3900938e3 text-sm text-white/80 font-semibold tracking-tight",children:r?"Connected":"Not Connected"})]})]}):x>=1?(0,a.jsx)("button",{onClick:()=>f(!0),style:{background:"transparent",margin:"0 auto"},"aria-label":"Bluetooth",className:"jsx-82ef8ed3900938e3 flex items-center justify-center w-10 h-10 rounded-full transition-all duration-300 cursor-pointer",children:(0,a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:"jsx-82ef8ed3900938e3",children:(0,a.jsx)("path",{fill:"#ffffff",d:"m9.41 0l6 6l-4 4l4 4l-6 6H9v-7.59l-3.3 3.3l-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3L9 7.58V0h.41zM11 4.41V7.6L12.59 6L11 4.41zM12.59 14L11 12.41v3.18L12.59 14z",className:"jsx-82ef8ed3900938e3"})})}):(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 space-y-4",children:[(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 "+"flex h-10 w-10 items-center justify-center rounded-full ".concat(r?"bg-white/20":"bg-gray-600/40"),children:(0,a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:"jsx-82ef8ed3900938e3",children:(0,a.jsx)("path",{fill:"#ffffff",d:"m9.41 0l6 6l-4 4l4 4l-6 6H9v-7.59l-3.3 3.3l-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3L9 7.58V0h.41zM11 4.41V7.6L12.59 6L11 4.41zM12.59 14L11 12.41v3.18L12.59 14z",className:"jsx-82ef8ed3900938e3"})})}),(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 flex flex-col leading-tight",children:[(0,a.jsx)("span",{className:"jsx-82ef8ed3900938e3 text-sm font-semibold text-white",children:"Bluetooth Pairing"}),(0,a.jsx)("span",{className:"jsx-82ef8ed3900938e3 text-xs text-white/70",children:r?"Connected":"Not Connected"})]})]}),(0,a.jsx)("button",{onClick:()=>f(!1),"aria-label":"Close",className:"jsx-82ef8ed3900938e3 flex h-8 w-8 items-center justify-center rounded-full bg-white/10 text-white/80 hover:bg-white/20 transition-colors",children:"✕"})]}),r&&n?(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 space-y-3",children:[(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 rounded-2xl bg-white/10 border border-white/20 p-4",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-xs text-white/60 mb-1",children:"Connected Device"}),(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-sm font-semibold text-white",children:null!==(s=null!==(t=n.name)&&void 0!==t?t:n.id)&&void 0!==s?s:"Unknown Device"})]}),(0,a.jsx)("button",{onClick:()=>{d&&d(),f(!1)},className:"jsx-82ef8ed3900938e3 w-full py-3 rounded-full bg-[#b34a4a] hover:bg-[#a24141] text-white font-medium transition-colors",children:"Disconnect"})]}):(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 space-y-3",children:[(0,a.jsx)("p",{className:"jsx-82ef8ed3900938e3 text-xs text-white/70",children:"Tap Scan to find nearby Bluetooth devices."}),(0,a.jsx)("button",{onClick:b,disabled:u||!m,className:"jsx-82ef8ed3900938e3 w-full py-3 rounded-full bg-white text-black font-medium hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Scanning…":"Scan Devices"}),!m&&(0,a.jsx)("p",{className:"jsx-82ef8ed3900938e3 text-xs text-red-400 text-center",children:"Bluetooth is off or unavailable."}),h.length>0&&(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 space-y-2 max-h-48 overflow-y-auto",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-xs text-white/60 font-medium",children:"Available Devices"}),h.map(e=>{var t,s;return(0,a.jsxs)("button",{onClick:()=>w(e),className:"jsx-82ef8ed3900938e3 w-full px-4 py-3 rounded-xl bg-white/10 hover:bg-white/20 border border-white/20 text-left transition-colors",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-sm font-medium text-white",children:null!==(s=null!==(t=e.name)&&void 0!==t?t:e.id)&&void 0!==s?s:"Unknown Device"}),(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-xs text-white/60 mt-0.5",children:"Tap to connect"})]},e.id)})]})]})]})}),(0,a.jsx)(l(),{id:"82ef8ed3900938e3",children:"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes shimmer{0%{background-position:-150%center}100%{background-position:150%center}}@-moz-keyframes shimmer{0%{background-position:-150%center}100%{background-position:150%center}}@-o-keyframes shimmer{0%{background-position:-150%center}100%{background-position:150%center}}@keyframes shimmer{0%{background-position:-150%center}100%{background-position:150%center}}"})]})}},2602:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return n},noSSR:function(){return i}});let a=s(8754);s(5893),s(7294);let r=a._(s(5491));function l(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){return delete t.webpack,delete t.modules,e(t)}function n(e,t){let s=r.default,a={loading:e=>{let{error:t,isLoading:s,pastDelay:a}=e;return null}};e instanceof Promise?a.loader=()=>e:"function"==typeof e?a.loader=e:"object"==typeof e&&(a={...a,...e});let n=(a={...a,...t}).loader;return(a.loadableGenerated&&(a={...a,...a.loadableGenerated},delete a.loadableGenerated),"boolean"!=typeof a.ssr||a.ssr)?s({...a,loader:()=>null!=n?n().then(l):Promise.resolve(l(()=>null))}):(delete a.webpack,delete a.modules,i(s,a))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1159:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return a}});let a=s(8754)._(s(7294)).default.createContext(null)},5491:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});let a=s(8754)._(s(7294)),r=s(1159),l=[],i=[],n=!1;function o(e){let t=e(),s={loading:!0,loaded:null,error:null};return s.promise=t.then(e=>(s.loading=!1,s.loaded=e,e)).catch(e=>{throw s.loading=!1,s.error=e,e}),s}class c{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function d(e){return function(e,t){let s=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),l=null;function o(){if(!l){let t=new c(e,s);l={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return l.promise()}if(!n){let e=s.webpack?s.webpack():s.modules;e&&i.push(t=>{for(let s of e)if(t.includes(s))return o()})}function d(e,t){!function(){o();let e=a.default.useContext(r.LoadableContext);e&&Array.isArray(s.modules)&&s.modules.forEach(t=>{e(t)})}();let i=a.default.useSyncExternalStore(l.subscribe,l.getCurrentValue,l.getCurrentValue);return a.default.useImperativeHandle(t,()=>({retry:l.retry}),[]),a.default.useMemo(()=>{var t;return i.loading||i.error?a.default.createElement(s.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:l.retry}):i.loaded?a.default.createElement((t=i.loaded)&&t.default?t.default:t,e):null},[e,i])}return d.preload=()=>o(),d.displayName="LoadableComponent",a.default.forwardRef(d)}(o,e)}function u(e,t){let s=[];for(;e.length;){let a=e.pop();s.push(a(t))}return Promise.all(s).then(()=>{if(e.length)return u(e,t)})}d.preloadAll=()=>new Promise((e,t)=>{u(l).then(e,t)}),d.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let s=()=>(n=!0,t());u(i,e).then(s,s)})),window.__NEXT_PRELOADREADY=d.preloadReady;let h=d},4278:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(5893),r=s(9008),l=s.n(r),i=s(1163),n=s(7294),o=s(5152);function c(e){let{timeData:t,rawData:r,filteredData:l,thresholdHigh:i,thresholdLow:o}=e,c=(0,n.useRef)(null),d=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(c.current)return Promise.all([s.e(196),s.e(78)]).then(s.bind(s,9085)).then(e=>{let{Chart:s}=e,a=c.current.getContext("2d");d.current&&d.current.destroy();let r=a.createLinearGradient(0,0,a.canvas.width,0);r.addColorStop(0,"rgba(192, 132, 252, 1)"),r.addColorStop(.5,"rgba(168, 85, 247, 1)"),r.addColorStop(1,"rgba(147, 51, 234, 1)");let n=a.createLinearGradient(0,0,0,a.canvas.height);n.addColorStop(0,"rgba(192, 132, 252, 0.2)"),n.addColorStop(1,"rgba(147, 51, 234, 0.05)"),d.current=new s(a,{type:"line",data:{labels:t,datasets:[{label:"Filtered (Kalman)",data:l,borderColor:r,backgroundColor:n,borderWidth:3,pointRadius:0,tension:.4,fill:!0,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:10,shadowColor:"rgba(168, 85, 247, 0.5)",segment:{borderColor:e=>{let t=e.chart.ctx.createLinearGradient(0,0,e.chart.width,0);return t.addColorStop(0,"rgba(192, 132, 252, 1)"),t.addColorStop(.5,"rgba(168, 85, 247, 1)"),t.addColorStop(1,"rgba(147, 51, 234, 1)"),t}}},{label:"High Threshold",data:Array(t.length).fill(i),borderColor:"rgba(251, 191, 36, 0.7)",backgroundColor:"transparent",borderWidth:2,borderDash:[8,4],pointRadius:0,fill:!1,tension:0},{label:"Low Threshold",data:Array(t.length).fill(o),borderColor:"rgba(34, 211, 238, 0.7)",backgroundColor:"transparent",borderWidth:2,borderDash:[8,4],pointRadius:0,fill:!1,tension:0}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!0,text:"Time (seconds)",color:"rgba(255, 255, 255, 0.7)",font:{size:12,weight:"500"}},ticks:{color:"rgba(255, 255, 255, 0.5)",maxRotation:0,autoSkipPadding:20,font:{size:11}},grid:{color:"rgba(255, 255, 255, 0.08)",drawBorder:!1}},y:{display:!0,title:{display:!0,text:"Acceleration (m/s\xb2)",color:"rgba(255, 255, 255, 0.7)",font:{size:12,weight:"500"}},ticks:{color:"rgba(255, 255, 255, 0.5)",font:{size:11}},grid:{color:"rgba(255, 255, 255, 0.08)",drawBorder:!1},min:8,max:12}},plugins:{legend:{display:!0,position:"top",labels:{color:"rgba(255, 255, 255, 1)",font:{size:12,weight:"600"},padding:12,usePointStyle:!0,pointStyle:"line",boxWidth:30,boxHeight:2,generateLabels:e=>e.data.datasets.map((t,s)=>({text:t.label,fillStyle:0===s?"rgba(168, 85, 247, 1)":"transparent",strokeStyle:0===s?"rgba(168, 85, 247, 1)":t.borderColor,lineWidth:0===s?3:2,lineDash:t.borderDash||[],hidden:!e.isDatasetVisible(s),datasetIndex:s}))}},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"rgba(255, 255, 255, 0.95)",bodyColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(168, 85, 247, 0.5)",borderWidth:1,padding:12,cornerRadius:8,displayColors:!0,callbacks:{labelColor:function(e){return 0===e.datasetIndex?{borderColor:"rgba(168, 85, 247, 1)",backgroundColor:"rgba(168, 85, 247, 1)"}:{borderColor:e.dataset.borderColor,backgroundColor:e.dataset.borderColor}}}}}},plugins:[{id:"glowEffect",beforeDatasetsDraw:e=>{let t=e.ctx;e.data.datasets.forEach((s,a)=>{0===a&&e.isDatasetVisible(a)&&!e.getDatasetMeta(a).hidden&&(t.save(),t.shadowColor="rgba(168, 85, 247, 0.6)",t.shadowBlur=15,t.shadowOffsetX=0,t.shadowOffsetY=0,t.restore())})}}]})}),()=>{d.current&&d.current.destroy()}},[t,l,i,o]),(0,a.jsx)("div",{className:"w-full h-64 sm:h-80 md:h-96",children:(0,a.jsx)("canvas",{ref:c})})}function d(e){let{notification:t,onDismiss:s}=e,[r,l]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{if(t){l(!0);let e=setTimeout(()=>{l(!1),s&&setTimeout(s,300)},t.duration||3e3);return()=>clearTimeout(e)}},[t,s]),!t)return null;let i={rep:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",nfc:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",success:"linear-gradient(135deg, #10b981 0%, #059669 100%)",error:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",info:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"},o={rep:"\uD83C\uDFAF",nfc:"\uD83D\uDCF1",success:"✅",error:"❌",info:"ℹ️"};return(0,a.jsx)("div",{className:"fixed top-20 right-4 z-50 px-6 py-3 rounded-lg text-white font-bold text-lg shadow-lg transform transition-all duration-300 ".concat(r?"translate-x-0 opacity-100":"translate-x-full opacity-0"),style:{background:i[t.type]||i.info},children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:o[t.type]||o.info}),(0,a.jsx)("span",{children:t.message})]})})}function u(e){var t;let{show:s,stats:r,workoutName:l,equipment:o,backgroundImage:c,onExport:d,onClose:u,onDoAnother:h}=e,m=(0,i.useRouter)(),[x,p]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{s&&p(!0)},[s]),!s)return null;let f=!r||r.averageConsistency>=80?{level:"Safe & Controlled",icon:"\uD83D\uDFE2",message:"You maintained safe form throughout the session."}:r.averageConsistency>=60?{level:"Minor Inconsistencies",icon:"\uD83D\uDFE1",message:"Some reps showed variation in tempo."}:{level:"High Risk Detected",icon:"\uD83D\uDD34",message:"Consider focusing on controlled movements."};return(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] overflow-hidden bg-black",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:c?"url(".concat(c,")"):"none",backgroundColor:"#1a1a1a"},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/70 to-black/95"})}),(0,a.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex-shrink-0 p-4 pt-6",children:(0,a.jsx)("button",{onClick:()=>{u&&u(),m.back()},className:"flex items-center justify-center h-11 w-11 rounded-full bg-black/30 hover:bg-black/40 transition-all backdrop-blur-md","aria-label":"Go back",children:(0,a.jsx)("img",{src:"/images/icons/arrow-point-to-left.png",alt:"Back",className:"w-5 h-5 filter brightness-0 invert"})})}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"flex-shrink-0 px-6 pb-8 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-white/90",children:"Workout Finished!"}),(0,a.jsx)("h2",{className:"text-4xl font-bold text-white leading-tight",children:l||"Workout"}),(0,a.jsxs)("p",{className:"text-base text-white/50",children:["With ",o||"Equipment"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 py-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:(null==r?void 0:r.totalReps)||0}),(0,a.jsx)("div",{className:"text-xs text-white/50 font-medium",children:"Reps"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(null==r?void 0:r.averageConsistency)||0,"%"]}),(0,a.jsx)("div",{className:"text-xs text-white/50 font-medium",children:"Tempo"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:(t=(null==r?void 0:r.totalTime)||0,"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0")))}),(0,a.jsx)("div",{className:"text-xs text-white/50 font-medium",children:"Time"})]})]}),(0,a.jsx)("div",{className:"text-center py-3 px-4",children:(0,a.jsxs)("p",{className:"text-sm text-white/70",children:[(0,a.jsx)("span",{className:"mr-1.5",children:f.icon}),(0,a.jsx)("span",{className:"font-medium",children:f.level}),(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsx)("span",{className:"text-white/50",children:f.message})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[(0,a.jsx)("button",{onClick:()=>{h&&h(),p(!1)},className:"py-3.5 rounded-full font-semibold text-white text-base transition-all border-2 border-white/25 hover:border-white/40 hover:bg-white/5 backdrop-blur-sm",children:"Do Another Round"}),(0,a.jsx)("button",{onClick:()=>{d&&confirm("Download workout data CSV?")&&d(),u&&u(),m.back()},className:"py-3.5 rounded-full font-semibold text-white text-base transition-all",style:{background:"linear-gradient(to right, #fb923c 0%, #f97316 100%)",boxShadow:"0 4px 14px rgba(249, 115, 22, 0.4)"},children:"Save"})]})]})]})]})}s.n(o)()(()=>Promise.all([s.e(196),s.e(78)]).then(s.bind(s,9085)).then(e=>e.Chart),{loadableGenerated:{webpack:()=>[null]},ssr:!1});var h=s(2492),m=s(7333);class x{addSample(e,t,s,a,r,l,i,n,o,c,d){let u={timestamp:d,accelX:e,accelY:t,accelZ:s,gyroX:a,gyroY:r,gyroZ:l,roll:i,pitch:n,yaw:o,accelMag:c,repNumber:Math.max(1,this.repCount+1)};this.allSamples.push(u),this.accelBuffer.push(c),this.timeBuffer.push(d),this.accelBuffer.length>=this.windowSamples&&this.processWindow()}processWindow(){let e=this.accelBuffer.slice(-this.windowSamples),t=this.timeBuffer.slice(-this.windowSamples),s=Math.max(...e),a=Math.min(...e),r=e.reduce((e,t)=>e+t,0)/e.length,l=s-a,i=Math.min(Math.max(.2*l,.2),Math.max(.6*Math.sqrt(e.reduce((e,t)=>e+Math.pow(t-r,2),0)/e.length),.2));this.thresholdHigh=r+i,this.thresholdLow=r-i,this.repHeight=l,this.detectRepsInWindow(e,t)}detectRepsInWindow(e,t){let s=e.length,a=this.accelBuffer.length-1,r=[];for(let l=3;l<s-3;l++){let i=!0,n=e[l];for(let t=l-3;t<=l+3;t++)if(t!==l&&e[t]>=n){i=!1;break}if(i&&n>this.thresholdHigh){let e=a-(s-1-l);(-1===this.lastPeakIndex||e-this.lastPeakIndex>=this.minPeakDistance)&&r.push({index:e,value:n,time:t[l]})}}let l=[];for(let r=3;r<s-3;r++){let i=!0,n=e[r];for(let t=r-3;t<=r+3;t++)if(t!==r&&e[t]<=n){i=!1;break}if(i&&n<this.thresholdLow){let e=a-(s-1-r);(-1===this.lastValleyIndex||e-this.lastValleyIndex>=this.minPeakDistance)&&l.push({index:e,value:n,time:t[r]})}}if(l.length>=1&&r.length>=1){let e,t,s,a;let i=l[l.length-1],n=r[r.length-1],o=!1;if(i.index<n.index){if(n.index<=this.lastDetectedPeakIndex)return;e=i,t=n,s=Math.abs(n.value-i.value),a=(n.time-i.time)/1e3,o=!0}else if(n.index<i.index){if(i.index<=this.lastDetectedValleyIndex)return;e=n,t=i,s=Math.abs(n.value-i.value),a=(i.time-n.time)/1e3,o=!0}o&&a>=this.minRepDuration&&a<=this.maxRepDuration&&s>=this.minPeakProminence&&(this.completeRep(e,n,t),this.lastDetectedValleyIndex=i.index,this.lastDetectedPeakIndex=n.index,this.lastValleyIndex=i.index,this.lastPeakIndex=n.index,this.lastRepEndTime=t.time)}l.length>0&&0===r.length?(this.inRepPhase=!0,this.state="STARTING"):r.length>0?this.state="LIFTING":(this.inRepPhase=!1,this.state="REST")}completeRep(e,t,s){this.repCount++;let a=(s.time-e.time)/1e3;this.reps.push({repNumber:this.repCount,startTime:e.time,endTime:s.time,duration:a,peakValue:t.value,valleyValue:e.value,range:Math.abs(t.value-e.value)}),this.repTimes.push(a);for(let e=this.allSamples.length-1;e>=0;e--){let t=this.allSamples[e];if(t.repNumber===this.repCount)t.repNumber=this.repCount;else break}}getAverageRepTime(){return 0===this.repTimes.length?0:this.repTimes.reduce((e,t)=>e+t,0)/this.repTimes.length}getLastRepTime(){return this.repTimes.length>0?this.repTimes[this.repTimes.length-1]:0}getStats(){return{repCount:this.repCount,averageRepTime:this.getAverageRepTime(),lastRepTime:this.getLastRepTime(),state:this.state,thresholdHigh:this.thresholdHigh,thresholdLow:this.thresholdLow,repHeight:this.repHeight,bufferSize:this.accelBuffer.length,windowSize:this.windowSamples}}reset(){this.repCount=0,this.accelBuffer=[],this.timeBuffer=[],this.allSamples=[],this.reps=[],this.currentRep=null,this.lastRepEndTime=0,this.repTimes=[],this.state="IDLE",this.lastPeakIndex=-1,this.lastValleyIndex=-1,this.lastDetectedValleyIndex=-1,this.lastDetectedPeakIndex=-1,this.inRepPhase=!1,this.repStartTime=0}exportData(){return{samples:this.allSamples,reps:this.reps,stats:this.getStats()}}constructor(e={}){this.repCount=0,this.windowDuration=e.windowDuration||1.5,this.windowOverlap=e.windowOverlap||.8,this.samplingRate=e.samplingRate||20,this.windowSamples=Math.floor(this.windowDuration*this.samplingRate),this.stepSize=Math.floor(this.windowSamples*(1-this.windowOverlap)),this.accelBuffer=[],this.timeBuffer=[],this.allSamples=[],this.reps=[],this.currentRep=null,this.lastRepEndTime=0,this.minPeakProminence=e.minPeakProminence||.15,this.minPeakDistance=e.minPeakDistance||15,this.minRepDuration=e.minRepDuration||0,this.maxRepDuration=e.maxRepDuration||12,this.thresholdHigh=10.5,this.thresholdLow=9.5,this.repHeight=0,this.state="IDLE",this.lastPeakIndex=-1,this.lastValleyIndex=-1,this.lastDetectedValleyIndex=-1,this.lastDetectedPeakIndex=-1,this.inRepPhase=!1,this.repTimes=[],this.repStartTime=0}}class p{update(e){this.estimationError+=this.processNoise;let t=this.estimationError/(this.estimationError+this.measurementNoise);return this.value+=t*(e-this.value),this.estimationError=(1-t)*this.estimationError,this.value}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.value=e,this.estimationError=1}constructor(e=.01,t=.5,s=1,a=0){this.processNoise=e,this.measurementNoise=t,this.estimationError=s,this.value=a}}function f(){let e=(0,i.useRouter)(),{equipment:t,workout:s}=e.query,{connected:r,device:o,scanning:f,devicesFound:g,availability:b,scanDevices:w,connectToDevice:v,disconnect:j}=(0,m.E)(),[y,k]=(0,n.useState)(!1),[N,C]=(0,n.useState)(!1),[S,D]=(0,n.useState)(!1),[R,_]=(0,n.useState)(3),[L,M]=(0,n.useState)(!1),E=(0,n.useRef)(0),T=(0,n.useRef)([]),[P,I]=(0,n.useState)(!1),[F,z]=(0,n.useState)(30),B=(0,n.useRef)(null),[V,A]=(0,n.useState)(!1),[O,W]=(0,n.useState)({totalReps:0,allRepDurations:[],completedSets:0,totalTime:0}),[Y,H]=(0,n.useState)(0),X=(0,n.useRef)(null),Z=(0,n.useRef)(new x),[G,U]=(0,n.useState)(Z.current.getStats()),[q,K]=(0,n.useState)(null),[J,Q]=(0,n.useState)(1),[$,ee]=(0,n.useState)(2),[et,es]=(0,n.useState)(5),[ea,er]=(0,n.useState)([]),[el,ei]=(0,n.useState)([]),[en,eo]=(0,n.useState)([]),[ec,ed]=(0,n.useState)({accelX:0,accelY:0,accelZ:0,gyroX:0,gyroY:0,gyroZ:0,roll:0,pitch:0,yaw:0,rawMagnitude:0,filteredMagnitude:0}),[eu,eh]=(0,n.useState)(0),[em,ex]=(0,n.useState)(0),ep=(0,n.useRef)(Date.now()),ef=(0,n.useRef)(0),{isSubscribed:eg,error:eb,resetFilters:ew}=function(e,t){let{device:s,connected:a}=(0,m.E)(),[r,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),c=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,n.useRef)({x:new p(.01,.5,1,0),y:new p(.01,.5,1,0),z:new p(.01,.5,1,9.81)}),h=(0,n.useCallback)(t=>{try{let s=t.target.value,a=new DataView(s.buffer),r={accelX:a.getFloat32(0,!0),accelY:a.getFloat32(4,!0),accelZ:a.getFloat32(8,!0),gyroX:a.getFloat32(12,!0),gyroY:a.getFloat32(16,!0),gyroZ:a.getFloat32(20,!0),roll:a.getFloat32(24,!0),pitch:a.getFloat32(28,!0),yaw:a.getFloat32(32,!0),timestamp:a.getUint32(36,!0)},l=Math.sqrt(r.accelX*r.accelX+r.accelY*r.accelY+r.accelZ*r.accelZ),i=u.current,n=i.x.update(r.accelX),o=i.y.update(r.accelY),c=i.z.update(r.accelZ);e&&e({...r,rawMagnitude:l,filteredX:n,filteredY:o,filteredZ:c,filteredMagnitude:Math.sqrt(n*n+o*o+c*c)})}catch(e){console.error("Error parsing IMU data:",e),o(e.message)}},[e]),x=(0,n.useCallback)(e=>{try{let t=e.target.value,s=new DataView(t.buffer),a=s.getUint8(0);for(let e=1;e<=a&&e<t.byteLength;e++)String.fromCharCode(s.getUint8(e))}catch(e){console.error("Error parsing NFC data:",e),o(e.message)}},[null]);return(0,n.useEffect)(()=>{if(!s||!a||!s.gatt){l(!1);return}let e=!0;return async function(){try{o(null);let t=s.gatt;t.connected||await t.connect();let a=await t.getPrimaryService("4fafc201-1fb5-459e-8fcc-c5c9c331914b"),r=await a.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8");await r.startNotifications(),r.addEventListener("characteristicvaluechanged",h),c.current=r;try{let e=await a.getCharacteristic("ceb5483e-36e1-4688-b7f5-ea07361b26a8");await e.startNotifications(),e.addEventListener("characteristicvaluechanged",x),d.current=e}catch(e){console.warn("NFC characteristic not available:",e)}e&&l(!0)}catch(t){console.error("Failed to subscribe to characteristics:",t),e&&(o(t.message),l(!1))}}(),()=>{if(e=!1,c.current){try{c.current.removeEventListener("characteristicvaluechanged",h),c.current.stopNotifications()}catch(e){console.error("Error cleaning up IMU characteristic:",e)}c.current=null}if(d.current){try{d.current.removeEventListener("characteristicvaluechanged",x),d.current.stopNotifications()}catch(e){console.error("Error cleaning up NFC characteristic:",e)}d.current=null}}},[s,a,h,x]),{isSubscribed:r,error:i,resetFilters:(0,n.useCallback)(()=>{u.current.x.reset(0),u.current.y.reset(0),u.current.z.reset(9.81)},[])}}((0,n.useCallback)(e=>{ed(e),ef.current++;let t=Date.now();if(t-ep.current>=1e3&&(ex(ef.current),eh(e=>e+ef.current),ef.current=0,ep.current=t),y&&!N&&!L){0===E.current&&(E.current=e.timestamp);let t=e.timestamp-E.current;T.current.push({timestamp:t,...e});let s=Math.floor(t/1e3),a=t%1e3,r="".concat(s,".").concat(a.toString().padStart(3,"0"));er(e=>{let t=[...e,r];return t.length>100?t.slice(-100):t}),ei(t=>{let s=[...t,e.rawMagnitude];return s.length>100?s.slice(-100):s}),eo(t=>{let s=[...t,e.filteredMagnitude];return s.length>100?s.slice(-100):s}),Z.current.addSample(e.accelX,e.accelY,e.accelZ,e.gyroX,e.gyroY,e.gyroZ,e.roll,e.pitch,e.yaw,e.filteredMagnitude,t),U(Z.current.getStats())}},[y,N,L]),0);(0,n.useEffect)(()=>(!y||N||L?X.current&&(clearInterval(X.current),X.current=null):X.current=setInterval(()=>{H(e=>e+1)},1e3),()=>{X.current&&clearInterval(X.current)}),[y,N,L]);let ev=()=>{C(e=>!e)},ej=()=>{I(!0),C(!0),z(30)},ey=()=>{I(!1),C(!1),k(!1),Z.current.reset(),U(Z.current.getStats()),Q(e=>e+1),er([]),ei([]),eo([]),E.current=0};(0,n.useEffect)(()=>{if(y&&!N&&!L&&!P&&G.repCount>=et&&G.repCount>0){let e=Z.current.exportData().reps.map(e=>e.duration);W(t=>({totalReps:t.totalReps+G.repCount,allRepDurations:[...t.allRepDurations,...e],completedSets:t.completedSets+1,totalTime:t.totalTime+Y})),J>=$?(k(!1),C(!1),A(!0)):ej()}},[G.repCount,et,y,N,L,P,J,$]),(0,n.useEffect)(()=>(P?B.current=setInterval(()=>{z(e=>e<=1?(ey(),30):e-1)},1e3):B.current&&(clearInterval(B.current),B.current=null),()=>{B.current&&clearInterval(B.current)}),[P]);let ek=async()=>{if(!r||!eg){alert("Please connect to your IMU device first!");return}k(!0),M(!0),C(!1),E.current=0,T.current=[],Z.current.reset(),ew(),U(Z.current.getStats()),er([]),ei([]),eo([]),eh(0),H(0),D(!0),_(3);for(let e=3;e>0;e--)_(e),await new Promise(e=>setTimeout(e,1e3));_("GO!"),await new Promise(e=>setTimeout(e,500)),M(!1),D(!1),M(!1)},eN=()=>{k(!1),C(!1),I(!1),T.current.length>0&&confirm("Recorded ".concat(G.repCount," reps with ").concat(T.current.length," samples. Download CSV?"))&&eC(),Q(1),W({totalReps:0,allRepDurations:[],completedSets:0,totalTime:0}),Z.current.reset(),U(Z.current.getStats())},eC=()=>{let e=Z.current.exportData().samples;if(0===e.length){alert("No data to export!");return}let t="rep,timestamp,timestamp_ms,accelX,accelY,accelZ,accelMag,gyroX,gyroY,gyroZ,roll,pitch,yaw,filteredX,filteredY,filteredZ,filteredMag\n";e.forEach(e=>{let s=Math.floor(e.timestamp/1e3),a=e.timestamp%1e3,r="".concat(s.toString().padStart(2,"0"),".").concat(a.toString().padStart(3,"0")),l=[e.repNumber,r,e.timestamp,e.accelX.toFixed(4),e.accelY.toFixed(4),e.accelZ.toFixed(4),e.accelMag.toFixed(4),e.gyroX.toFixed(4),e.gyroY.toFixed(4),e.gyroZ.toFixed(4),e.roll.toFixed(2),e.pitch.toFixed(2),e.yaw.toFixed(2),e.accelX.toFixed(4),e.accelY.toFixed(4),e.accelZ.toFixed(4),e.accelMag.toFixed(4)];t+=l.join(",")+"\n"});let a=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download="applift_".concat(s,"_").concat(new Date().toISOString().replace(/[:.]/g,"-"),".csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(r)},eS=e=>"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"));return(0,a.jsxs)("div",{className:"relative min-h-screen bg-black text-white",children:[(0,a.jsx)(l(),{children:(0,a.jsxs)("title",{children:["Workout Monitor — ",s," — AppLift"]})}),S&&(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90",children:(0,a.jsx)("div",{className:"text-7xl sm:text-8xl md:text-9xl font-bold text-white animate-pulse",children:R})}),P&&(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 px-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-6 sm:gap-8",children:[(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-white text-center",children:"Current set done!"}),(0,a.jsx)("div",{className:"text-lg sm:text-xl font-semibold text-white/80 text-center",children:"Take a break"}),(0,a.jsxs)("div",{className:"relative w-48 h-48 sm:w-64 sm:h-64",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 256 256",children:[(0,a.jsx)("circle",{cx:"128",cy:"128",r:"110",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"12",fill:"none"}),(0,a.jsx)("circle",{cx:"128",cy:"128",r:"110",stroke:"url(#gradient)",strokeWidth:"12",fill:"none",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*110),strokeDashoffset:"".concat(2*Math.PI*110*(1-(30-F)/30)),style:{transition:"stroke-dashoffset 1s linear"}}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#c084fc"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#9333ea"})]})})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"text-5xl sm:text-7xl font-bold text-white",children:F}),(0,a.jsx)("div",{className:"text-lg sm:text-xl text-white/60 mt-1",children:"seconds"})]})]}),(0,a.jsx)("button",{onClick:()=>{B.current&&(clearInterval(B.current),B.current=null),z(30),ey()},className:"px-6 sm:px-8 py-3 sm:py-4 rounded-full font-bold text-white text-lg sm:text-xl transition-all hover:scale-105",style:{background:"linear-gradient(to bottom right, #c084fc 0%, #9333ea 100%)",boxShadow:"0 4px 12px rgba(147, 51, 234, 0.3)"},children:"Skip Break"})]})}),(0,a.jsx)(u,{show:V,workoutName:s,equipment:t,backgroundImage:(()=>{if(!t||!s)return null;let e=t.toLowerCase(),a=s.toLowerCase();if(e.includes("barbell")){if(a.includes("bench")||a.includes("press"))return"/images/workout-cards/barbell-flat-bench-press.jpg";if(a.includes("squat"))return"/images/workout-cards/barbell-front-squats.jpg"}else if(e.includes("dumbbell")||e.includes("dumbell"))return a.includes("curl")?"/images/workout-cards/dumbell-concentration-curls.jpg":a.includes("extension")||a.includes("tricep")?"/images/workout-cards/dumbell-overhead-extension.jpg":"/images/workout-cards/dumbell-comingsoon.jpg";else if(e.includes("weight stack")||e.includes("weightstack")||e.includes("cable"))return a.includes("pulldown")||a.includes("lat")?"/images/workout-cards/weightstack-lateral-pulldown.jpg":a.includes("leg")&&a.includes("extension")?"/images/workout-cards/weightstack-seated-leg-extension.jpg":"/images/workout-cards/weightstack-comingsoon.jpg";return"/images/workout-cards/barbell-comingsoon.jpg"})(),stats:{totalReps:O.totalReps,totalTime:O.totalTime,averageConsistency:O.allRepDurations.length>0?Math.round((1-(Math.max(...O.allRepDurations)-Math.min(...O.allRepDurations))/Math.max(...O.allRepDurations))*100):85,tempoMessage:O.allRepDurations.length>0&&Math.round((1-(Math.max(...O.allRepDurations)-Math.min(...O.allRepDurations))/Math.max(...O.allRepDurations))*100)>=80?"Your reps stayed steady and controlled.":"Keep working on maintaining consistent tempo.",averageLoad:null,progressMessage:null},onExport:eC,onClose:()=>A(!1),onDoAnother:()=>{A(!1),Q(1),W({totalReps:0,allRepDurations:[],completedSets:0,totalTime:0}),Z.current.reset(),U(Z.current.getStats()),er([]),ei([]),eo([]),E.current=0,T.current=[],H(0)}}),(0,a.jsx)(d,{notification:q,onDismiss:()=>K(null)}),(0,a.jsxs)("main",{className:"mx-auto w-full max-w-4xl px-3 sm:px-4 md:px-6 pt-4 sm:pt-6 pb-[500px] md:pb-[450px] space-y-3 sm:space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"flex items-center justify-center h-10 w-10 rounded-lg bg-white/10 hover:bg-white/20 transition-all","aria-label":"Go back",children:(0,a.jsx)("img",{src:"/images/icons/arrow-point-to-left.png",alt:"Back",className:"w-5 h-5 filter brightness-0 invert"})}),(0,a.jsx)(h.Z,{connected:r,device:o,onScan:w,onConnect:v,onDisconnect:j,scanning:f,devicesFound:g,availability:b})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:s}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-white/60",children:t})]}),!r&&y&&(0,a.jsx)("div",{className:"rounded-xl bg-red-500/20 border border-red-500/50 p-4 text-center animate-pulse",children:(0,a.jsx)("p",{className:"text-sm text-red-300 font-semibold",children:"⚠️ Device disconnected. Please reconnect to continue session."})}),!r&&!y&&(0,a.jsx)("div",{className:"rounded-xl bg-red-500/20 border border-red-500/50 p-4 text-center",children:(0,a.jsx)("p",{className:"text-sm text-red-300",children:"⚠️ Device not connected. Please connect your IMU device."})})]}),(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 px-3 sm:px-4 md:px-6 pb-4 sm:pb-6 pt-3 sm:pt-4",style:{background:"linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.98) 80%, rgba(0,0,0,0) 100%)"},children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-4xl space-y-3 sm:space-y-4",children:[(0,a.jsxs)("div",{className:"rounded-xl sm:rounded-2xl bg-white/5 p-3 sm:p-4 border border-white/10",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:[(0,a.jsx)("h3",{className:"text-xs sm:text-sm font-semibold text-white mb-2 sm:mb-3 text-center",children:"Real-time Acceleration"}),(0,a.jsx)(c,{timeData:ea,filteredData:en,thresholdHigh:G.thresholdHigh,thresholdLow:G.thresholdLow})]}),(0,a.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl overflow-hidden",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)"},children:[(0,a.jsx)("div",{className:"p-3 sm:p-4 flex items-center justify-between",children:y?(0,a.jsx)(a.Fragment,{children:N?(0,a.jsxs)("button",{onClick:ev,className:"w-full py-3 sm:py-4 rounded-full font-bold text-white text-lg sm:text-xl md:text-2xl transition-all flex items-center justify-between px-4 sm:px-6 md:px-8",style:{background:"linear-gradient(to bottom right, #c084fc 0%, #9333ea 100%)",boxShadow:"0 4px 12px rgba(147, 51, 234, 0.3)"},children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,a.jsx)("span",{children:eS(Y)}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),eN()},className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-red-500/80 hover:bg-red-500 flex items-center justify-center transition-all",children:(0,a.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("rect",{x:"6",y:"6",width:"12",height:"12"})})})]}):(0,a.jsxs)("button",{onClick:ev,className:"w-full py-3 sm:py-4 rounded-full font-bold text-white text-lg sm:text-xl md:text-2xl transition-all flex items-center justify-center gap-2 sm:gap-3",style:{background:"linear-gradient(to bottom right, #c084fc 0%, #9333ea 100%)",boxShadow:"0 4px 12px rgba(147, 51, 234, 0.3)"},children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})})}),(0,a.jsx)("span",{children:eS(Y)})]})}):(0,a.jsxs)("button",{onClick:ek,disabled:!r||!eg,className:"w-full py-3 sm:py-4 rounded-full font-bold text-white text-lg sm:text-xl md:text-2xl transition-all disabled:opacity-50 flex items-center justify-center gap-2 sm:gap-3",style:{background:"linear-gradient(to bottom right, #c084fc 0%, #9333ea 100%)",boxShadow:"0 4px 12px rgba(147, 51, 234, 0.3)"},children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,a.jsx)("span",{children:"Start Recording"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 pt-2 pb-3 sm:pb-4 px-3 sm:px-4",children:[(0,a.jsxs)("div",{className:"rounded-xl sm:rounded-2xl p-3 sm:p-4 relative",style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.25)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[(0,a.jsx)("img",{src:"/images/applift-logo/AppLift_Logo_White.png",alt:"AppLift",className:"w-5 h-5 sm:w-6 sm:h-6"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-white/90",children:"Reps"})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-0.5 sm:gap-1",children:[(0,a.jsx)("span",{className:"text-3xl sm:text-4xl font-bold text-white",children:G.repCount}),(0,a.jsx)("span",{className:"text-xl sm:text-2xl font-semibold text-white/60",children:"/"}),(0,a.jsx)("span",{className:"text-xl sm:text-2xl font-semibold text-white/60",children:et})]}),(0,a.jsx)("span",{className:"absolute bottom-2 right-2 sm:bottom-3 sm:right-3 text-[10px] sm:text-xs font-semibold px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full bg-purple-500/30 text-purple-200",children:G.state.toLowerCase()})]}),(0,a.jsxs)("div",{className:"rounded-xl sm:rounded-2xl p-3 sm:p-4",style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.25)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[(0,a.jsx)("span",{className:"text-xl sm:text-2xl",children:"\uD83D\uDCCA"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-white/90",children:"Set"})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-0.5 sm:gap-1",children:[(0,a.jsx)("span",{className:"text-3xl sm:text-4xl font-bold text-white",children:J}),(0,a.jsx)("span",{className:"text-xl sm:text-2xl font-semibold text-white/60",children:"/"}),(0,a.jsx)("span",{className:"text-xl sm:text-2xl font-semibold text-white/60",children:$})]})]})]})]})]})})]})}},5152:function(e,t,s){e.exports=s(2602)}},function(e){e.O(0,[742,888,774,179],function(){return e(e.s=1252)}),_N_E=e.O()}]);