(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(1998)}])},957:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(5893);function i(e){let t,{type:a,className:i="w-17 h-16"}=e;switch(String(a||"").trim()){case"Dumbbell":case"Dumbell":t="/images/equipment-icon/Dumbbell.png";break;case"Barbell":default:t="/images/equipment-icon/Barbell.png";break;case"Weight Stack":t="/images/equipment-icon/Weight_stack.png"}return(0,s.jsx)("img",{src:t,alt:"".concat(a," icon"),className:i})}},1998:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var s=a(5893),i=a(9008),r=a.n(i),n=a(7294);a(1664);var l=a(1163),o=a(1127),d=a(2492),c=a(957);function h(e){let{workout:t}=e,a=(0,l.useRouter)();return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5 hover:bg-white/10 active:opacity-70 transition-all duration-200 border border-white/10 cursor-pointer",role:"button","aria-label":"Open history for ".concat(t.exercise),onClick:()=>{a.push("/history?exercise=".concat(encodeURIComponent(t.exercise),"&date=").concat(encodeURIComponent(t.date)))},children:[(0,s.jsx)("div",{className:"w-14 h-14 flex items-center justify-center flex-shrink-0 rounded-[14px] text-white",style:{backgroundColor:{Barbell:"#f0b233",Dumbbell:"#3B82F6","Weight Stack":"#F97316"}[t.equipment]||"#7c3aed"},children:(0,s.jsx)(c.Z,{type:t.equipment,className:"w-8 h-6"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white truncate",children:t.exercise}),(0,s.jsxs)("div",{className:"text-xs text-white/70 mt-0.5 truncate",children:[t.weight," kg \xb7 ",t.reps," reps"]})]}),(0,s.jsx)("div",{className:"text-white/40",children:(0,s.jsx)("img",{src:"/images/icons/arrow-point-to-right.png",alt:"",className:"w-4 h-4 opacity-40"})})]})}var m=a(1261),x=a(386),u=a(7017),p=a(5615),w=a(8793),b=a(6189),f=a(6962),g=a(6409);function v(e){let{currentWeek:t=[],calendar3Months:a=[],onDaySelect:i=()=>{},onMonthSelect:r=()=>{},variant:n="mobile"}=e,l="desktop"===n,o=e=>{let t=l?"w-9 h-9":"w-7 h-7";return e.isToday?"".concat(t," bg-white/80 text-black border-2 border-white/80"):e.isWorkout&&!e.isFuture?"".concat(t," border-2 border-purple-400 text-purple-400"):e.isFuture?"".concat(t," text-white/20"):"".concat(t," text-white/40")},d=e=>"".concat(l?"text-xs font-medium mb-1.5":"text-xs font-medium mb-1"," ").concat(e.isFuture?"text-white/40":"text-white/70"),c=e=>null===e.day?"":e.isToday?"bg-white/80":e.isFuture?"bg-white/10":e.isWorkout?"bg-gradient-to-r from-purple-400 to-purple-500 shadow-lg shadow-purple-500/50":"bg-white/30",h=l?"w-2 h-2":"w-1.5 h-1.5",m=l?"gap-1.5":"gap-1";return(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)("h3",{className:l?"text-sm font-semibold text-white/90 mb-5 uppercase tracking-wide":"text-sm font-semibold text-white/90 mb-4",children:"Activity Overview"}),(0,s.jsxs)("div",{className:l?"backdrop-blur-sm bg-white/5 border border-white/10 rounded-2xl p-4 mb-4 flex-shrink-0":"bg-white/5 border border-white/10 rounded-2xl p-4 mb-3",children:[(0,s.jsx)("p",{className:"text-xs text-white/50 mb-3 uppercase tracking-wide font-semibold",children:"This Week"}),(0,s.jsx)("div",{className:"flex justify-between items-center gap-2",children:t.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>!e.isFuture&&i(e),disabled:e.isFuture,className:"flex flex-col items-center transition-all duration-300 flex-1 ".concat(e.isFuture?"opacity-40 cursor-not-allowed":l?"hover:opacity-80 active:opacity-60":"active:opacity-70"),children:[(0,s.jsx)("div",{className:d(e),children:e.dayName}),(0,s.jsx)("div",{className:"".concat(o(e)," rounded-full flex items-center justify-center text-xs font-semibold transition-all duration-300"),children:e.day})]},t))})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-hidden mt-1 md:mt-2",children:[(0,s.jsx)("p",{className:"text-xs text-white/50 mb-3 md:mb-4 uppercase tracking-wide font-semibold",children:"Last 3 Months"}),(0,s.jsx)("div",{className:l?"grid grid-cols-3 gap-4":"grid grid-cols-3 gap-2",children:a.map(e=>(0,s.jsxs)("button",{onClick:()=>r(e.month,e.year),className:"flex flex-col items-center hover:bg-white/10 active:opacity-70 rounded-lg p-2 transition-all duration-200",children:[(0,s.jsx)("div",{className:l?"text-xs font-semibold text-white/80 mb-3 uppercase":"text-xs font-semibold text-white/80 mb-2 uppercase",children:e.monthName}),(0,s.jsx)("div",{className:"".concat("grid grid-cols-7"," ").concat(m),children:e.days.map((e,t)=>{if(null===e.day)return(0,s.jsx)("div",{className:h},t);let a=c(e);return(0,s.jsx)("div",{className:"".concat(h," rounded-full ").concat(a," transition-all duration-300"),title:e.day?e.isToday?"Today":e.isWorkout?"Workout day":"Rest day":""},t)})})]},"".concat(e.month,"-").concat(e.year)))})]})]})}var y=a(7333),j=a(1296);function k(){let{profile:e}=(0,g.G)(),t=(0,l.useRouter)();t.pathname;let{availability:a,permissionGranted:i,connecting:c,connectingDeviceId:k,connected:N,device:D,devicesFound:W,scanning:S,pairMessage:M,error:L,scanDevices:C,connectToDevice:F,disconnect:E,setPairMessage:T}=(0,y.E)(),[A,B]=(0,n.useState)(!1),[P,q]=(0,n.useState)(!1),R=(0,n.useRef)(null);(0,n.useEffect)(()=>{function e(e){R.current&&!R.current.contains(e.target)&&B(!1)}return A&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[A]);let[_,O]=(0,n.useState)(0),z=(0,n.useRef)(null),I=(0,n.useRef)(null),Y=(0,n.useRef)(null),[Z,G]=(0,n.useState)(0),[J,K]=(0,n.useState)({width:0,gap:16}),[U,V]=(0,n.useState)("week"),X=e=>{var t;let a=z.current;if(!a)return;let s=null===(t=a.children)||void 0===t?void 0:t[e];if(!s)return;let i=s.offsetLeft-(a.clientWidth-s.clientWidth)/2;try{a.scrollTo({left:i,behavior:"smooth"})}catch(e){a.scrollLeft=i}O(e)};(0,n.useEffect)(()=>{let e=()=>{var e;if(!Y.current)return;let t=null===(e=Y.current.children)||void 0===e?void 0:e[0];if(!t)return;let a=t.getBoundingClientRect(),s=window.getComputedStyle(Y.current),i=parseFloat(s.columnGap||s.gap||0)||0;K({width:a.width,gap:i}),G(Y.current.children.length)},t=new ResizeObserver(e);return Y.current&&t.observe(Y.current),window.addEventListener("resize",e),e(),()=>{t.disconnect(),window.removeEventListener("resize",e)}},[]),(0,n.useEffect)(()=>{0!==Z&&O(e=>Math.min(e,Z-1))},[Z]),(0,n.useEffect)(()=>{let e=z.current;if(!e)return;let t=()=>{let t=Math.max(0,Math.round((e.scrollLeft-40)/400)),a=Math.max((Z||2)-1,1);O(Math.min(t,a));try{clearTimeout(I.current)}catch(e){}I.current=setTimeout(()=>{X(Math.min(Math.max(t,0),a))},300)};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[Z]);let H=[{id:1,exercise:"Concentration Curls",equipment:"Dumbbell",weight:15,reps:10,date:"2 days ago"},{id:2,exercise:"Overhead Extension",equipment:"Dumbbell",weight:18,reps:12,date:"2 days ago"},{id:3,exercise:"Bench Press",equipment:"Barbell",weight:80,reps:5,date:"1 day ago"},{id:4,exercise:"Front Squat",equipment:"Barbell",weight:70,reps:8,date:"1 day ago"},{id:5,exercise:"Lateral Pulldown",equipment:"Weight Stack",weight:65,reps:10,date:"3 days ago"},{id:6,exercise:"Leg Extensions",equipment:"Weight Stack",weight:90,reps:12,date:"3 days ago"}];(0,n.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration("/sw.js").then(e=>{e||navigator.serviceWorker.register("/sw.js").then(e=>console.log("SW registered:",e.scope)).catch(e=>console.log("SW registration failed:",e))}).catch(()=>{})},[]);let Q=()=>{E()},$={workoutDaysByMonth:{10:[2,7,12,17,22,27],0:[2,5,8,12,15,18,22,25],1:[3,7,10,14,17,21,24,28]},lastWorkout:{exercise:"Bicep Curls",equipment:"Dumbbell",weight:12,date:new Date}},ee=(()=>{let e=new Date,t=e.getFullYear(),a=e.getMonth(),s=e.getDate(),i=[];for(let e=-2;e<=0;e++){let n=new Date(t,a+e,1),l=n.getFullYear(),o=n.getMonth(),d=new Date(l,o,1),c=new Date(l,o+1,0).getDate(),h=d.getDay(),m=[];for(let e=0;e<h;e++)m.push({day:null,isWorkout:!1,isFuture:!1});for(let e=1;e<=c;e++){var r;let t=o===a,i=t&&e>s,n=t&&e===s,l=(null===(r=$.workoutDaysByMonth[o])||void 0===r?void 0:r.includes(e))||!1;m.push({day:e,isWorkout:l,isFuture:i,isToday:n})}i.push({month:o,monthName:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][o],year:l,days:m})}return i})(),et=(()=>{let e=new Date,t=e.getMonth(),a=e.getDate(),s=e.getDay(),i=new Date(e);i.setDate(e.getDate()-s);let r=[],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let s=0;s<7;s++){var l;let o=new Date(i);o.setDate(i.getDate()+s);let d=o.getDate(),c=o.getMonth(),h=d===a&&c===t,m=o>e,x=(null===(l=$.workoutDaysByMonth[c])||void 0===l?void 0:l.includes(d))||!1;r.push({day:d,dayName:n[s],isToday:h,isFuture:m,isWorkout:x})}return r})(),ea={day:[{time:"6 AM",load:0},{time:"9 AM",load:12},{time:"12 PM",load:18},{time:"3 PM",load:25},{time:"6 PM",load:22},{time:"9 PM",load:15}],week:[{day:"Mon",load:12},{day:"Tue",load:18},{day:"Wed",load:25},{day:"Thu",load:22},{day:"Fri",load:30.5},{day:"Sat",load:28},{day:"Sun",load:15}],month:[{week:"W1",load:85},{week:"W2",load:92},{week:"W3",load:105},{week:"W4",load:98}]}[U],es=ea.reduce((e,t)=>e+t.load,0);return ea.map(e=>e.load),(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white pb-32",children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"AppLift Dashboard"}),(0,s.jsx)("meta",{name:"theme-color",content:"#0b0b0d"})]}),(0,s.jsx)(o.Z,{}),(0,s.jsx)("main",{className:"w-full px-4 sm:px-6 md:px-8 pt-10 sm:pt-10 pb-4 md:pb-6",children:(0,s.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",ref:R,children:[(0,s.jsx)("button",{onClick:()=>B(!A),className:"w-12 h-12 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 border border-white/20 flex items-center justify-center flex-shrink-0 hover:border-white/40 transition-colors","aria-label":"Profile menu",children:(0,s.jsx)("span",{className:"text-lg font-semibold text-white",children:"AV"})}),A&&(0,s.jsx)("div",{className:"absolute top-14 left-0 z-50 min-w-[180px] rounded-2xl bg-[#1f1f2a] border border-white/15 shadow-2xl modal-content-fade-in",style:{backdropFilter:"blur(14px)",WebkitBackdropFilter:"blur(14px)"},children:(0,s.jsxs)("button",{onClick:()=>{B(!1),q(!0)},className:"w-full px-4 py-3 text-left text-red-400 hover:text-red-300 hover:bg-white/8 transition-colors rounded-2xl text-sm font-semibold first:rounded-t-2xl last:rounded-b-2xl flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Sign out"}),(0,s.jsx)("img",{src:"/images/icons/signout-icon.png",alt:"",className:"w-4 h-4 opacity-90"})]})})]}),(0,s.jsx)("div",{className:"flex flex-col leading-tight",children:(0,s.jsxs)("span",{className:"text-2xl sm:text-3xl font-bold text-white",children:["Hello, ",(0,s.jsx)("span",{className:"text-purple-300",children:(null==e?void 0:e.name)||"Alliya"}),"!"]})})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)("button",{className:"p-2 rounded-full text-white/90","aria-label":"Notifications",children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0 1 18 14.158V11a6 6 0 1 0-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 1 1-6 0v-1h6z"})})})})]}),(0,s.jsx)("div",{className:"flex justify-center content-fade-up-1",children:(0,s.jsx)(d.Z,{connected:N,device:D,onScan:C,onConnect:F,onDisconnect:Q,scanning:S,devicesFound:W,availability:a})}),(0,s.jsx)("div",{className:"flex items-center justify-between mb-5 md:mb-6 content-fade-up-2",children:(0,s.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Overview"})}),(0,s.jsx)("section",{className:"mb-8 md:mb-10 content-fade-up-3 -mx-4 sm:mx-0",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"block md:hidden mb-6",children:[(0,s.jsxs)("div",{ref:z,className:"flex gap-4 overflow-x-auto pb-2 snap-x snap-mandatory snap-center scrollbar-hide scroll-smooth px-4",children:[(0,s.jsx)("article",{className:"min-w-[calc(100vw-24px)] w-[calc(100vw-24px)] max-w-[384px] shrink-0 snap-center rounded-3xl bg-white/10 border border-white/20 p-5 shadow-2xl h-[320px] flex flex-col",children:(0,s.jsx)(v,{currentWeek:et,calendar3Months:ee,onDaySelect:e=>t.push("/history?day=".concat(e.day)),onMonthSelect:(e,a)=>t.push("/history?month=".concat(e,"&year=").concat(a)),variant:"mobile"})}),(0,s.jsxs)("article",{className:"min-w-[calc(100vw-24px)] w-[calc(100vw-24px)] max-w-[384px] shrink-0 snap-center rounded-3xl bg-white/10 border border-white/20 p-5 shadow-2xl h-[320px] flex flex-col",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-white/90 mb-4",children:"Recent Workouts"}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide space-y-2.5",children:H.slice(0,5).map(e=>(0,s.jsx)(h,{workout:e},e.id))})]})]}),(0,s.jsx)("div",{className:"flex justify-center gap-2.5 mt-6",children:Array.from({length:Math.max(Z||2,2)}).map((e,t)=>(0,s.jsx)("button",{onClick:()=>X(t),className:"".concat(t===_?"bg-white h-2 w-8":"bg-white/30 h-2 w-2"," rounded-full transition-all duration-300"),"aria-label":"Go to slide ".concat(t+1)},t))})]}),(0,s.jsxs)("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsx)("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-3xl p-6 shadow-2xl hover:shadow-3xl transition-all duration-300 h-[320px] flex flex-col",children:(0,s.jsx)(v,{currentWeek:et,calendar3Months:ee,onDaySelect:e=>t.push("/history?day=".concat(e.day)),onMonthSelect:(e,a)=>t.push("/history?month=".concat(e,"&year=").concat(a)),variant:"desktop"})}),(0,s.jsxs)("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-3xl p-6 shadow-2xl hover:shadow-3xl transition-all duration-300 h-[320px] flex flex-col",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-white/90 mb-5 uppercase tracking-wide",children:"Recent Workouts"}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide space-y-3",children:H.slice(0,5).map(e=>(0,s.jsx)(h,{workout:e},e.id))})]})]})]})}),(0,s.jsx)("section",{className:"mb-8 md:mb-10 content-fade-up-4",children:(0,s.jsxs)("div",{className:"bg-black rounded-3xl p-6 sm:p-8 shadow-2xl",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Workout"}),(0,s.jsx)("p",{className:"text-xs text-white/60 capitalize",children:"day"===U?"Today":"week"===U?"Last 7 Days":"Last 4 Weeks"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-300",children:[es.toFixed(1)," kg"]}),(0,s.jsx)("div",{className:"text-xs text-white/60",children:"Total"})]})]}),(0,s.jsx)("div",{className:"w-full h-64 sm:h-72 md:h-80 -mx-4 sm:-mx-6",children:(0,s.jsx)(m.h,{width:"100%",height:"100%",children:(0,s.jsxs)(x.w,{data:ea,margin:{top:10,right:20,left:-20,bottom:20},children:[(0,s.jsx)(u.q,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),(0,s.jsx)(p.K,{dataKey:"day"===U?"time":"week"===U?"day":"week",stroke:"rgba(255,255,255,0.5)",style:{fontSize:"12px"}}),(0,s.jsx)(w.B,{stroke:"rgba(255,255,255,0.5)",style:{fontSize:"12px"}}),(0,s.jsx)(b.u,{contentStyle:{backgroundColor:"rgba(0,0,0,0.9)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",padding:"12px 16px"},labelStyle:{color:"#fef08a"},formatter:e=>["".concat(e," kg"),"Load"]}),(0,s.jsx)(f.x1,{type:"monotone",dataKey:"load",stroke:"#fef08a",strokeWidth:3,dot:{fill:"#fef08a",r:6},activeDot:{r:8,fill:"#fef08a"},isAnimationActive:!0})]})})})]})}),(0,s.jsx)("div",{className:"h-4"})]})}),(0,s.jsx)("div",{className:"fixed bottom-6 right-6",children:N?(0,s.jsx)("button",{onClick:Q,className:"px-4 py-2 rounded-md bg-white/6 text-white border border-white/10","aria-label":"Disconnect device",children:"Disconnect"}):null}),P&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 modal-fade-in",style:{backgroundColor:"rgba(0, 0, 0, 0.75)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},onClick:()=>q(!1),children:(0,s.jsxs)("div",{className:"relative max-w-sm w-full p-6 rounded-3xl bg-[#1f1f2a] border border-white/15 shadow-2xl modal-content-fade-in",style:{boxShadow:"0 20px 60px rgba(0, 0, 0, 0.6)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Sign out?"}),(0,s.jsx)("p",{className:"text-sm text-white/70 mb-6",children:"You will return to the splash screen."}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>q(!1),className:"flex-1 px-4 py-2.5 rounded-xl bg-white/10 hover:bg-white/15 text-white font-medium transition-colors modal-element-fade-in",style:{animationDelay:"50ms"},children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{let e=!1;try{window.localStorage.removeItem("userProfile"),window.localStorage.removeItem("authToken"),window.localStorage.removeItem("scannedEquipment"),window.sessionStorage.removeItem("applift-appmode-splash-seen"),e=(0,j.xA)()}catch(e){console.error("Failed to clear storage:",e)}B(!1),q(!1);let a="/splash?slide=3&fromSignOut=1";e?window.location.replace(a):t.replace(a)},className:"flex-1 px-4 py-2.5 rounded-xl bg-red-500 hover:bg-red-400 text-white font-semibold transition-colors shadow-lg shadow-red-900/30 modal-element-fade-in",style:{animationDelay:"120ms"},children:"Yes, sign out"})]})]})})]})}},1296:function(e,t,a){"use strict";function s(){return function(){let e=window.matchMedia("(display-mode: standalone)").matches,t=window.matchMedia("(display-mode: fullscreen)").matches,a="standalone"in navigator&&!0===navigator.standalone;return e||t||a}()&&function(){let e=/iPhone|iPad|iPod|Android|Tablet|Mobile|Windows Phone/i.test(navigator.userAgent),t=navigator.maxTouchPoints>1&&window.innerWidth<=1024;return e||t}()}function i(e){let t=window.matchMedia("(display-mode: standalone)"),a=window.matchMedia("(display-mode: fullscreen)"),i=()=>{e(s())},r=e=>{e.addEventListener?e.addEventListener("change",i):e.addListener&&e.addListener(i)},n=e=>{e.removeEventListener?e.removeEventListener("change",i):e.removeListener&&e.removeListener(i)};return r(t),r(a),()=>{n(t),n(a)}}a.d(t,{OA:function(){return i},xA:function(){return s}})}},function(e){e.O(0,[996,645,231,964,888,774,179],function(){return e(e.s=1075)}),_N_E=e.O()}]);