(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{1252:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workout-monitor",function(){return s(4317)}])},2492:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(5893),r=s(645),i=s.n(r),l=s(7294);function n(e){var t,s;let{connected:r,device:n,onScan:o,onConnect:c,onDisconnect:d,scanning:u,devicesFound:h=[],availability:m,collapse:x=0}=e,[f,p]=(0,l.useState)(!1),g=(0,l.useRef)(null);(0,l.useEffect)(()=>{function e(e){g.current&&!g.current.contains(e.target)&&p(!1)}return f&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[f]),(0,l.useEffect)(()=>{function e(e){"Escape"===e.key&&p(!1)}return f&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[f]);let b=async()=>{o&&await o()},w=async e=>{c&&(await c(e),p(!1))};return(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)("div",{style:{animation:"fadeIn 0.3s ease-out"},onClick:()=>p(!1),className:"jsx-82ef8ed3900938e3 fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] transition-opacity duration-300"}),(0,a.jsx)("div",{ref:g,style:{width:x>0?"56px":"100%",maxWidth:x>0?"56px":"28rem",paddingLeft:x>0||f?"auto":"20px",paddingRight:x>0||f?"auto":"20px",paddingLeft:f?"24px":x>0?"12px":"20px",paddingRight:f?"24px":x>0?"12px":"20px",maxHeight:f?"520px":"88px",background:r?"radial-gradient(circle, rgb(141, 184, 11) 0%, rgb(56, 139, 42) 50%, rgb(59, 105, 2) 100%)":"linear-gradient(90deg, #2A2A2A 0%, #3A3A3A 100%)",borderColor:r?"rgba(5, 150, 105, 0.55)":"rgba(107, 114, 128, 0.45)",boxShadow:r?"0 18px 50px rgba(16, 185, 129, 0.25)":"0 14px 40px rgba(0, 0, 0, 0.25)",transition:f||x>0?"max-height 600ms ease, padding 400ms ease, border-radius 400ms ease, background 800ms ease-in-out, border-color 800ms ease-in-out, box-shadow 800ms ease-in-out, width 600ms ease, max-width 600ms ease":"max-height 600ms ease, padding 400ms ease, border-radius 400ms ease, background 800ms ease-in-out, border-color 800ms ease-in-out, box-shadow 800ms ease-in-out",animation:r?"shimmer 12s linear infinite":"none",backgroundSize:r?"150% 100%":"100% 100%",backgroundPosition:"left center"},className:"jsx-82ef8ed3900938e3 "+"relative overflow-hidden border shadow-lg transition-all duration-600 ease-[cubic-bezier(0.22,1,0.36,1)] ".concat(f?"z-[10000] rounded-[24px] px-6 py-6 w-full max-w-sm":"z-50 rounded-[32px] py-3"),children:!f&&x<1?(0,a.jsxs)("button",{onClick:()=>p(!0),style:{opacity:0===x?1:0},className:"jsx-82ef8ed3900938e3 flex flex-1 items-center gap-3 w-full cursor-pointer active:scale-98 transition-transform duration-300 ease-[cubic-bezier(0.22,1,0.36,1)]",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 "+"flex h-10 w-10 items-center justify-center rounded-full transition-all duration-300 flex-shrink-0 ".concat(r?"bg-white/20":"bg-gray-600/40"),children:(0,a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:"jsx-82ef8ed3900938e3",children:(0,a.jsx)("path",{fill:"#ffffff",d:"m9.41 0l6 6l-4 4l4 4l-6 6H9v-7.59l-3.3 3.3l-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3L9 7.58V0h.41zM11 4.41V7.6L12.59 6L11 4.41zM12.59 14L11 12.41v3.18L12.59 14z",className:"jsx-82ef8ed3900938e3"})})}),(0,a.jsxs)("div",{style:{opacity:Math.max(0,1-1.5*x)},className:"jsx-82ef8ed3900938e3 flex flex-col leading-tight items-start",children:[(0,a.jsx)("span",{className:"jsx-82ef8ed3900938e3 text-xs font-medium tracking-tight text-white",children:"Your Device is"}),(0,a.jsx)("span",{className:"jsx-82ef8ed3900938e3 text-sm text-white/80 font-semibold tracking-tight",children:r?"Connected":"Not Connected"})]})]}):x>=1?(0,a.jsx)("button",{onClick:()=>p(!0),style:{background:"transparent",margin:"0 auto"},"aria-label":"Bluetooth",className:"jsx-82ef8ed3900938e3 flex items-center justify-center w-10 h-10 rounded-full transition-all duration-300 cursor-pointer",children:(0,a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:"jsx-82ef8ed3900938e3",children:(0,a.jsx)("path",{fill:"#ffffff",d:"m9.41 0l6 6l-4 4l4 4l-6 6H9v-7.59l-3.3 3.3l-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3L9 7.58V0h.41zM11 4.41V7.6L12.59 6L11 4.41zM12.59 14L11 12.41v3.18L12.59 14z",className:"jsx-82ef8ed3900938e3"})})}):(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 space-y-4",children:[(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 "+"flex h-10 w-10 items-center justify-center rounded-full ".concat(r?"bg-white/20":"bg-gray-600/40"),children:(0,a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:"jsx-82ef8ed3900938e3",children:(0,a.jsx)("path",{fill:"#ffffff",d:"m9.41 0l6 6l-4 4l4 4l-6 6H9v-7.59l-3.3 3.3l-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3L9 7.58V0h.41zM11 4.41V7.6L12.59 6L11 4.41zM12.59 14L11 12.41v3.18L12.59 14z",className:"jsx-82ef8ed3900938e3"})})}),(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 flex flex-col leading-tight",children:[(0,a.jsx)("span",{className:"jsx-82ef8ed3900938e3 text-sm font-semibold text-white",children:"Bluetooth Pairing"}),(0,a.jsx)("span",{className:"jsx-82ef8ed3900938e3 text-xs text-white/70",children:r?"Connected":"Not Connected"})]})]}),(0,a.jsx)("button",{onClick:()=>p(!1),"aria-label":"Close",className:"jsx-82ef8ed3900938e3 flex h-8 w-8 items-center justify-center rounded-full bg-white/10 text-white/80 hover:bg-white/20 transition-colors",children:"✕"})]}),r&&n?(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 space-y-3",children:[(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 rounded-2xl bg-white/10 border border-white/20 p-4",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-xs text-white/60 mb-1",children:"Connected Device"}),(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-sm font-semibold text-white",children:null!==(s=null!==(t=n.name)&&void 0!==t?t:n.id)&&void 0!==s?s:"Unknown Device"})]}),(0,a.jsx)("button",{onClick:()=>{d&&d(),p(!1)},className:"jsx-82ef8ed3900938e3 w-full py-3 rounded-full bg-[#b34a4a] hover:bg-[#a24141] text-white font-medium transition-colors",children:"Disconnect"})]}):(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 space-y-3",children:[(0,a.jsx)("p",{className:"jsx-82ef8ed3900938e3 text-xs text-white/70",children:"Tap Scan to find nearby Bluetooth devices."}),(0,a.jsx)("button",{onClick:b,disabled:u||!m,className:"jsx-82ef8ed3900938e3 w-full py-3 rounded-full bg-white text-black font-medium hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Scanning…":"Scan Devices"}),!m&&(0,a.jsx)("p",{className:"jsx-82ef8ed3900938e3 text-xs text-red-400 text-center",children:"Bluetooth is off or unavailable."}),h.length>0&&(0,a.jsxs)("div",{className:"jsx-82ef8ed3900938e3 space-y-2 max-h-48 overflow-y-auto",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-xs text-white/60 font-medium",children:"Available Devices"}),h.map(e=>{var t,s;return(0,a.jsxs)("button",{onClick:()=>w(e),className:"jsx-82ef8ed3900938e3 w-full px-4 py-3 rounded-xl bg-white/10 hover:bg-white/20 border border-white/20 text-left transition-colors",children:[(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-sm font-medium text-white",children:null!==(s=null!==(t=e.name)&&void 0!==t?t:e.id)&&void 0!==s?s:"Unknown Device"}),(0,a.jsx)("div",{className:"jsx-82ef8ed3900938e3 text-xs text-white/60 mt-0.5",children:"Tap to connect"})]},e.id)})]})]})]})}),(0,a.jsx)(i(),{id:"82ef8ed3900938e3",children:"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes shimmer{0%{background-position:-150%center}100%{background-position:150%center}}@-moz-keyframes shimmer{0%{background-position:-150%center}100%{background-position:150%center}}@-o-keyframes shimmer{0%{background-position:-150%center}100%{background-position:150%center}}@keyframes shimmer{0%{background-position:-150%center}100%{background-position:150%center}}"})]})}},2602:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return n},noSSR:function(){return l}});let a=s(8754);s(5893),s(7294);let r=a._(s(5491));function i(e){return{default:(null==e?void 0:e.default)||e}}function l(e,t){return delete t.webpack,delete t.modules,e(t)}function n(e,t){let s=r.default,a={loading:e=>{let{error:t,isLoading:s,pastDelay:a}=e;return null}};e instanceof Promise?a.loader=()=>e:"function"==typeof e?a.loader=e:"object"==typeof e&&(a={...a,...e});let n=(a={...a,...t}).loader;return(a.loadableGenerated&&(a={...a,...a.loadableGenerated},delete a.loadableGenerated),"boolean"!=typeof a.ssr||a.ssr)?s({...a,loader:()=>null!=n?n().then(i):Promise.resolve(i(()=>null))}):(delete a.webpack,delete a.modules,l(s,a))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1159:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return a}});let a=s(8754)._(s(7294)).default.createContext(null)},5491:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});let a=s(8754)._(s(7294)),r=s(1159),i=[],l=[],n=!1;function o(e){let t=e(),s={loading:!0,loaded:null,error:null};return s.promise=t.then(e=>(s.loading=!1,s.loaded=e,e)).catch(e=>{throw s.loading=!1,s.error=e,e}),s}class c{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function d(e){return function(e,t){let s=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),i=null;function o(){if(!i){let t=new c(e,s);i={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return i.promise()}if(!n){let e=s.webpack?s.webpack():s.modules;e&&l.push(t=>{for(let s of e)if(t.includes(s))return o()})}function d(e,t){!function(){o();let e=a.default.useContext(r.LoadableContext);e&&Array.isArray(s.modules)&&s.modules.forEach(t=>{e(t)})}();let l=a.default.useSyncExternalStore(i.subscribe,i.getCurrentValue,i.getCurrentValue);return a.default.useImperativeHandle(t,()=>({retry:i.retry}),[]),a.default.useMemo(()=>{var t;return l.loading||l.error?a.default.createElement(s.loading,{isLoading:l.loading,pastDelay:l.pastDelay,timedOut:l.timedOut,error:l.error,retry:i.retry}):l.loaded?a.default.createElement((t=l.loaded)&&t.default?t.default:t,e):null},[e,l])}return d.preload=()=>o(),d.displayName="LoadableComponent",a.default.forwardRef(d)}(o,e)}function u(e,t){let s=[];for(;e.length;){let a=e.pop();s.push(a(t))}return Promise.all(s).then(()=>{if(e.length)return u(e,t)})}d.preloadAll=()=>new Promise((e,t)=>{u(i).then(e,t)}),d.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let s=()=>(n=!0,t());u(l,e).then(s,s)})),window.__NEXT_PRELOADREADY=d.preloadReady;let h=d},4317:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(5893),r=s(9008),i=s.n(r),l=s(1163),n=s(7294),o=s(5152);function c(e){let{timeData:t,rawData:r,filteredData:i,thresholdHigh:l,thresholdLow:o}=e,c=(0,n.useRef)(null),d=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(c.current)return Promise.all([s.e(196),s.e(78)]).then(s.bind(s,9085)).then(e=>{let{Chart:s}=e,a=c.current.getContext("2d");d.current&&d.current.destroy();let r=a.createLinearGradient(0,0,a.canvas.width,0);r.addColorStop(0,"rgba(192, 132, 252, 1)"),r.addColorStop(.5,"rgba(168, 85, 247, 1)"),r.addColorStop(1,"rgba(147, 51, 234, 1)");let n=a.createLinearGradient(0,0,0,a.canvas.height);n.addColorStop(0,"rgba(192, 132, 252, 0.2)"),n.addColorStop(1,"rgba(147, 51, 234, 0.05)"),d.current=new s(a,{type:"line",data:{labels:t,datasets:[{label:"Filtered (Kalman)",data:i,borderColor:r,backgroundColor:n,borderWidth:3,pointRadius:0,tension:.4,fill:!0,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:10,shadowColor:"rgba(168, 85, 247, 0.5)",segment:{borderColor:e=>{let t=e.chart.ctx.createLinearGradient(0,0,e.chart.width,0);return t.addColorStop(0,"rgba(192, 132, 252, 1)"),t.addColorStop(.5,"rgba(168, 85, 247, 1)"),t.addColorStop(1,"rgba(147, 51, 234, 1)"),t}}},{label:"High Threshold",data:Array(t.length).fill(l),borderColor:"rgba(251, 191, 36, 0.35)",backgroundColor:"transparent",borderWidth:2,borderDash:[8,4],pointRadius:0,fill:!1,tension:0},{label:"Low Threshold",data:Array(t.length).fill(o),borderColor:"rgba(34, 211, 238, 0.35)",backgroundColor:"transparent",borderWidth:2,borderDash:[8,4],pointRadius:0,fill:!1,tension:0}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!1},ticks:{display:!1},grid:{color:"rgba(255, 255, 255, 0.08)",drawBorder:!1}},y:{display:!0,title:{display:!1},ticks:{display:!1},grid:{display:!1,drawBorder:!1},suggestedMin:0,grace:"10%"}},plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"rgba(255, 255, 255, 0.95)",bodyColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(168, 85, 247, 0.5)",borderWidth:1,padding:12,cornerRadius:8,displayColors:!0,callbacks:{labelColor:function(e){return 0===e.datasetIndex?{borderColor:"rgba(168, 85, 247, 1)",backgroundColor:"rgba(168, 85, 247, 1)"}:{borderColor:e.dataset.borderColor,backgroundColor:e.dataset.borderColor}}}}}},plugins:[{id:"glowEffect",beforeDatasetsDraw:e=>{let t=e.ctx;e.data.datasets.forEach((s,a)=>{0===a&&e.isDatasetVisible(a)&&!e.getDatasetMeta(a).hidden&&(t.save(),t.shadowColor="rgba(168, 85, 247, 0.6)",t.shadowBlur=15,t.shadowOffsetX=0,t.shadowOffsetY=0,t.restore())})}}]})}),()=>{d.current&&d.current.destroy()}},[t,i,l,o]),(0,a.jsx)("div",{className:"w-full h-96 sm:h-[28rem] md:h-[36rem]",children:(0,a.jsx)("canvas",{ref:c})})}function d(e){let{notification:t,onDismiss:s}=e,[r,i]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{if(t){i(!0);let e=setTimeout(()=>{i(!1),s&&setTimeout(s,300)},t.duration||3e3);return()=>clearTimeout(e)}},[t,s]),!t)return null;let l={rep:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",nfc:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",success:"linear-gradient(135deg, #10b981 0%, #059669 100%)",error:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",info:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"},o={rep:"\uD83C\uDFAF",nfc:"\uD83D\uDCF1",success:"✅",error:"❌",info:"ℹ️"};return(0,a.jsx)("div",{className:"fixed top-20 right-4 z-50 px-6 py-3 rounded-lg text-white font-bold text-lg shadow-lg transform transition-all duration-300 ".concat(r?"translate-x-0 opacity-100":"translate-x-full opacity-0"),style:{background:l[t.type]||l.info},children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:o[t.type]||o.info}),(0,a.jsx)("span",{children:t.message})]})})}s.n(o)()(()=>Promise.all([s.e(196),s.e(78)]).then(s.bind(s,9085)).then(e=>e.Chart),{loadableGenerated:{webpack:()=>[null]},ssr:!1});var u=s(2492),h=s(7333);class m{addSample(e,t,s,a,r,i,l,n,o,c,d){let u={timestamp:d,accelX:e,accelY:t,accelZ:s,gyroX:a,gyroY:r,gyroZ:i,roll:l,pitch:n,yaw:o,accelMag:c,repNumber:Math.max(1,this.repCount+1)};this.allSamples.push(u),this.accelBuffer.push(c),this.timeBuffer.push(d),this.accelBuffer.length>=this.windowSamples&&this.processWindow()}processWindow(){let e=this.accelBuffer.slice(-this.windowSamples),t=this.timeBuffer.slice(-this.windowSamples),s=Math.max(...e),a=Math.min(...e),r=e.reduce((e,t)=>e+t,0)/e.length,i=s-a,l=Math.min(Math.max(.2*i,.2),Math.max(.6*Math.sqrt(e.reduce((e,t)=>e+Math.pow(t-r,2),0)/e.length),.2));this.thresholdHigh=r+l,this.thresholdLow=r-l,this.repHeight=i,this.detectRepsInWindow(e,t)}detectRepsInWindow(e,t){let s=e.length,a=this.accelBuffer.length-1,r=[];for(let i=3;i<s-3;i++){let l=!0,n=e[i];for(let t=i-3;t<=i+3;t++)if(t!==i&&e[t]>=n){l=!1;break}if(l&&n>this.thresholdHigh){let e=a-(s-1-i);(-1===this.lastPeakIndex||e-this.lastPeakIndex>=this.minPeakDistance)&&r.push({index:e,value:n,time:t[i]})}}let i=[];for(let r=3;r<s-3;r++){let l=!0,n=e[r];for(let t=r-3;t<=r+3;t++)if(t!==r&&e[t]<=n){l=!1;break}if(l&&n<this.thresholdLow){let e=a-(s-1-r);(-1===this.lastValleyIndex||e-this.lastValleyIndex>=this.minPeakDistance)&&i.push({index:e,value:n,time:t[r]})}}if(i.length>=1&&r.length>=1){let e,t,s,a;let l=i[i.length-1],n=r[r.length-1],o=!1;if(l.index<n.index){if(n.index<=this.lastDetectedPeakIndex)return;e=l,t=n,s=Math.abs(n.value-l.value),a=(n.time-l.time)/1e3,o=!0}else if(n.index<l.index){if(l.index<=this.lastDetectedValleyIndex)return;e=n,t=l,s=Math.abs(n.value-l.value),a=(l.time-n.time)/1e3,o=!0}o&&a>=this.minRepDuration&&a<=this.maxRepDuration&&s>=this.minPeakProminence&&(this.completeRep(e,n,t),this.lastDetectedValleyIndex=l.index,this.lastDetectedPeakIndex=n.index,this.lastValleyIndex=l.index,this.lastPeakIndex=n.index,this.lastRepEndTime=t.time)}i.length>0&&0===r.length?(this.inRepPhase=!0,this.state="STARTING"):r.length>0?this.state="LIFTING":(this.inRepPhase=!1,this.state="REST")}completeRep(e,t,s){this.repCount++;let a=(s.time-e.time)/1e3;console.log("✅ REP #".concat(this.repCount," | Duration: ").concat(a.toFixed(2),"s | Range: ").concat(Math.abs(t.value-e.value).toFixed(2)," m/s\xb2")),this.reps.push({repNumber:this.repCount,startTime:e.time,endTime:s.time,duration:a,peakAcceleration:t.value,peakValue:t.value,peakVelocity:t.value/2,valleyValue:e.value,range:Math.abs(t.value-e.value)}),this.repTimes.push(a);for(let e=this.allSamples.length-1;e>=0;e--){let t=this.allSamples[e];if(t.repNumber===this.repCount)t.repNumber=this.repCount;else break}}getAverageRepTime(){return 0===this.repTimes.length?0:this.repTimes.reduce((e,t)=>e+t,0)/this.repTimes.length}getLastRepTime(){return this.repTimes.length>0?this.repTimes[this.repTimes.length-1]:0}getStats(){return{repCount:this.repCount,averageRepTime:this.getAverageRepTime(),lastRepTime:this.getLastRepTime(),state:this.state,thresholdHigh:this.thresholdHigh,thresholdLow:this.thresholdLow,repHeight:this.repHeight,bufferSize:this.accelBuffer.length,windowSize:this.windowSamples}}reset(){this.repCount=0,this.accelBuffer=[],this.timeBuffer=[],this.allSamples=[],this.reps=[],this.currentRep=null,this.lastRepEndTime=0,this.repTimes=[],this.state="IDLE",this.lastPeakIndex=-1,this.lastValleyIndex=-1,this.lastDetectedValleyIndex=-1,this.lastDetectedPeakIndex=-1,this.inRepPhase=!1,this.repStartTime=0}exportData(){return{samples:this.allSamples,reps:this.reps,stats:this.getStats()}}constructor(e={}){this.repCount=0,this.windowDuration=e.windowDuration||1.5,this.windowOverlap=e.windowOverlap||.8,this.samplingRate=e.samplingRate||20,this.windowSamples=Math.floor(this.windowDuration*this.samplingRate),this.stepSize=Math.floor(this.windowSamples*(1-this.windowOverlap)),this.accelBuffer=[],this.timeBuffer=[],this.allSamples=[],this.reps=[],this.currentRep=null,this.lastRepEndTime=0,this.minPeakProminence=e.minPeakProminence||.15,this.minPeakDistance=e.minPeakDistance||15,this.minRepDuration=e.minRepDuration||0,this.maxRepDuration=e.maxRepDuration||12,this.thresholdHigh=10.5,this.thresholdLow=9.5,this.repHeight=0,this.state="IDLE",this.lastPeakIndex=-1,this.lastValleyIndex=-1,this.lastDetectedValleyIndex=-1,this.lastDetectedPeakIndex=-1,this.inRepPhase=!1,this.repTimes=[],this.repStartTime=0}}class x{update(e){this.estimationError+=this.processNoise;let t=this.estimationError/(this.estimationError+this.measurementNoise);return this.value+=t*(e-this.value),this.estimationError=(1-t)*this.estimationError,this.value}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.value=e,this.estimationError=1}constructor(e=.01,t=.5,s=1,a=0){this.processNoise=e,this.measurementNoise=t,this.estimationError=s,this.value=a}}function f(){let e=(0,l.useRouter)(),{equipment:t,workout:s}=e.query,{connected:r,device:o,scanning:f,devicesFound:p,availability:g,scanDevices:b,connectToDevice:w,disconnect:y}=(0,h.E)(),[v,j]=(0,n.useState)(null),[k]=(0,n.useState)(2),[N]=(0,n.useState)(5),{isRecording:C,isPaused:S,showCountdown:D,countdownValue:R,isOnBreak:_,breakTimeRemaining:L,breakPaused:M,motivationalMessage:T,elapsedTime:E,currentSet:P,repStats:I,workoutStats:F,currentIMU:z,sampleCount:V,dataRate:B,timeData:O,rawAccelData:A,filteredAccelData:Y,isSubscribed:X,startRecording:H,stopRecording:Z,togglePause:G,toggleBreakPause:W,stopBreak:U,exportToCSV:q,resetReps:J,formatTime:K,repCounterRef:Q,rawDataLog:$}=function(e){let{connected:t,recommendedReps:s=5,recommendedSets:a=2,onSetComplete:r,onWorkoutComplete:i}=e,[l,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,f]=(0,n.useState)(!1),[p,g]=(0,n.useState)(3),[b,w]=(0,n.useState)(!1),y=(0,n.useRef)(0),v=(0,n.useRef)([]),j=(0,n.useRef)(!1),k=(0,n.useRef)(!1),N=(0,n.useRef)(!1),[C,S]=(0,n.useState)(!1),[D,R]=(0,n.useState)(30),[_,L]=(0,n.useState)(!1),[M,T]=(0,n.useState)(""),E=(0,n.useRef)(null),[P,I]=(0,n.useState)({totalReps:0,allRepDurations:[],completedSets:0,totalTime:0,setData:[]}),[F,z]=(0,n.useState)(0),V=(0,n.useRef)(null),B=(0,n.useRef)(new m),[O,A]=(0,n.useState)(B.current.getStats()),[Y,X]=(0,n.useState)(1),[H,Z]=(0,n.useState)([]),[G,W]=(0,n.useState)([]),[U,q]=(0,n.useState)([]),J=(0,n.useRef)([]),K=(0,n.useRef)([]),Q=(0,n.useRef)([]),[$,ee]=(0,n.useState)({accelX:0,accelY:0,accelZ:0,gyroX:0,gyroY:0,gyroZ:0,roll:0,pitch:0,yaw:0,rawMagnitude:0,filteredMagnitude:0}),[et,es]=(0,n.useState)(0),[ea,er]=(0,n.useState)(0),ei=(0,n.useRef)(Date.now()),el=(0,n.useRef)(0),{isSubscribed:en,error:eo,resetFilters:ec}=function(e,t){let{device:s,connected:a}=(0,h.E)(),[r,i]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),c=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,n.useRef)({x:new x(.01,.5,1,0),y:new x(.01,.5,1,0),z:new x(.01,.5,1,9.81)}),m=(0,n.useCallback)(t=>{try{let s=t.target.value,a=new DataView(s.buffer),r={accelX:a.getFloat32(0,!0),accelY:a.getFloat32(4,!0),accelZ:a.getFloat32(8,!0),gyroX:a.getFloat32(12,!0),gyroY:a.getFloat32(16,!0),gyroZ:a.getFloat32(20,!0),roll:a.getFloat32(24,!0),pitch:a.getFloat32(28,!0),yaw:a.getFloat32(32,!0),timestamp:a.getUint32(36,!0)},i=Math.sqrt(r.accelX*r.accelX+r.accelY*r.accelY+r.accelZ*r.accelZ),l=u.current,n=l.x.update(r.accelX),o=l.y.update(r.accelY),c=l.z.update(r.accelZ);e&&e({...r,rawMagnitude:i,filteredX:n,filteredY:o,filteredZ:c,filteredMagnitude:Math.sqrt(n*n+o*o+c*c)})}catch(e){console.error("Error parsing IMU data:",e),o(e.message)}},[e]),f=(0,n.useCallback)(e=>{try{let t=e.target.value,s=new DataView(t.buffer),a=s.getUint8(0);for(let e=1;e<=a&&e<t.byteLength;e++)String.fromCharCode(s.getUint8(e))}catch(e){console.error("Error parsing NFC data:",e),o(e.message)}},[null]);return(0,n.useEffect)(()=>{if(!s||!a||!s.gatt){i(!1);return}let e=!0;return async function(){try{o(null);let t=s.gatt;t.connected||await t.connect();let a=await t.getPrimaryService("4fafc201-1fb5-459e-8fcc-c5c9c331914b"),r=await a.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8");await r.startNotifications(),r.addEventListener("characteristicvaluechanged",m),c.current=r;try{let e=await a.getCharacteristic("ceb5483e-36e1-4688-b7f5-ea07361b26a8");await e.startNotifications(),e.addEventListener("characteristicvaluechanged",f),d.current=e}catch(e){console.warn("NFC characteristic not available:",e)}e&&i(!0)}catch(t){console.error("Failed to subscribe to characteristics:",t),e&&(o(t.message),i(!1))}}(),()=>{if(e=!1,c.current){try{c.current.removeEventListener("characteristicvaluechanged",m),c.current.stopNotifications()}catch(e){console.error("Error cleaning up IMU characteristic:",e)}c.current=null}if(d.current){try{d.current.removeEventListener("characteristicvaluechanged",f),d.current.stopNotifications()}catch(e){console.error("Error cleaning up NFC characteristic:",e)}d.current=null}}},[s,a,m,f]),{isSubscribed:r,error:l,resetFilters:(0,n.useCallback)(()=>{u.current.x.reset(0),u.current.y.reset(0),u.current.z.reset(9.81)},[])}}((0,n.useCallback)(e=>{ee(e),el.current++;let t=Date.now();if(t-ei.current>=1e3&&(er(el.current),es(e=>e+el.current),el.current=0,ei.current=t),j.current&&!k.current&&!N.current){0===y.current&&(y.current=e.timestamp);let t=e.timestamp-y.current;v.current.push({timestamp:t,...e});let s=Math.floor(t/1e3),a=t%1e3,r="".concat(s,".").concat(a.toString().padStart(3,"0"));J.current.push(r),K.current.push(e.rawMagnitude),Q.current.push(e.filteredMagnitude),Z(e=>{let t=[...e,r];return t.length>100?t.slice(-100):t}),W(t=>{let s=[...t,e.rawMagnitude];return s.length>100?s.slice(-100):s}),q(t=>{let s=[...t,e.filteredMagnitude];return s.length>100?s.slice(-100):s}),B.current.addSample(e.accelX,e.accelY,e.accelZ,e.gyroX,e.gyroY,e.gyroZ,e.roll,e.pitch,e.yaw,e.filteredMagnitude,t),A(B.current.getStats())}},[]),0);(0,n.useEffect)(()=>{j.current=l,k.current=c,N.current=b},[l,c,b]),(0,n.useEffect)(()=>(!l||c||b?V.current&&(clearInterval(V.current),V.current=null):V.current=setInterval(()=>{z(e=>e+1)},1e3),()=>{V.current&&clearInterval(V.current)}),[l,c,b]),(0,n.useEffect)(()=>(C&&!_?E.current=setInterval(()=>{R(e=>e<=1?(eu(),30):e-1)},1e3):E.current&&(clearInterval(E.current),E.current=null),()=>{E.current&&clearInterval(E.current)}),[C,_]),(0,n.useEffect)(()=>{if(l&&!c&&!b&&!C&&O.repCount>=s&&O.repCount>0){let e=B.current.exportData(),t=e.reps.map(e=>e.duration),s=e.reps.map((e,t)=>({time:e.duration,rom:10*e.peakAcceleration,peakVelocity:e.peakVelocity||e.peakAcceleration/2,isClean:e.duration>=2&&e.duration<=4,chartData:Q.current})),l={setNumber:Y,reps:O.repCount,duration:F,repsData:s,chartData:[...Q.current],timeData:[...J.current]};I(e=>({totalReps:e.totalReps+O.repCount,allRepDurations:[...e.allRepDurations,...t],completedSets:e.completedSets+1,totalTime:e.totalTime+F,setData:[...e.setData,l]})),Y>=a?(o(!1),d(!1),i&&i({workoutStats:{...P,totalReps:P.totalReps+O.repCount,totalTime:P.totalTime+F},repData:B.current.exportData(),chartData:{rawAccelData:K.current,filteredAccelData:Q.current,timeData:J.current}})):(ed(),r&&r(Y))}},[O.repCount,s,l,c,b,C,Y,a]);let ed=()=>{let e=["You're doing amazing!","Keep up the great work!","Stay strong, you've got this!","Almost there, keep pushing!","You're crushing it!","Breathe and recover!","Rest up for the next set!","You're making progress!"];T(e[Math.floor(Math.random()*e.length)]),S(!0),d(!0),R(30)},eu=async()=>{let e=document.querySelector(".break-overlay");e&&(e.classList.add("animate-fadeOut"),await new Promise(e=>setTimeout(e,400))),S(!1),L(!1),B.current.reset(),A(B.current.getStats()),X(e=>e+1),Z([]),W([]),q([]),J.current=[],K.current=[],Q.current=[],y.current=0,v.current=[],ec(),z(0),await eh()},eh=async()=>{w(!0),N.current=!0,d(!1),k.current=!1,o(!0),j.current=!0,f(!0),g(3);for(let e=3;e>0;e--)g(e),await new Promise(e=>setTimeout(e,1e3));g("GO!"),await new Promise(e=>setTimeout(e,500));let e=document.querySelector(".countdown-overlay");e&&(e.classList.add("animate-fadeOut"),await new Promise(e=>setTimeout(e,400))),f(!1),w(!1),N.current=!1,d(!1),k.current=!1,o(!0),j.current=!0,window.scrollTo({top:0,behavior:"smooth"})},em=async()=>{if(!t||!en){alert("Please connect to your IMU device first!");return}y.current=0,v.current=[],B.current.reset(),ec(),A(B.current.getStats()),Z([]),W([]),q([]),J.current=[],K.current=[],Q.current=[],es(0),z(0),await eh()};return{isRecording:l,isPaused:c,showCountdown:u,countdownValue:p,isOnBreak:C,breakTimeRemaining:D,breakPaused:_,motivationalMessage:M,elapsedTime:F,currentSet:Y,repStats:O,workoutStats:P,currentIMU:$,sampleCount:et,dataRate:ea,isSubscribed:en,timeData:H,rawAccelData:G,filteredAccelData:U,startRecording:em,stopRecording:()=>{o(!1),d(!1),S(!1),X(1),I({totalReps:0,allRepDurations:[],completedSets:0,totalTime:0,setData:[]}),B.current.reset(),A(B.current.getStats())},togglePause:()=>{d(e=>{let t=!e;return k.current=t,t})},toggleBreakPause:()=>{L(e=>!e)},stopBreak:()=>{E.current&&(clearInterval(E.current),E.current=null),R(30),eu()},exportToCSV:()=>{let e=B.current.exportData().samples;if(0===e.length){alert("No data to export!");return}let t="rep,timestamp,timestamp_ms,accelX,accelY,accelZ,accelMag,gyroX,gyroY,gyroZ,roll,pitch,yaw,filteredX,filteredY,filteredZ,filteredMag\n";return e.forEach(e=>{let s=Math.floor(e.timestamp/1e3),a=e.timestamp%1e3,r="".concat(s.toString().padStart(2,"0"),".").concat(a.toString().padStart(3,"0")),i=[e.repNumber,r,e.timestamp,e.accelX.toFixed(4),e.accelY.toFixed(4),e.accelZ.toFixed(4),e.accelMag.toFixed(4),e.gyroX.toFixed(4),e.gyroY.toFixed(4),e.gyroZ.toFixed(4),e.roll.toFixed(2),e.pitch.toFixed(2),e.yaw.toFixed(2),e.accelX.toFixed(4),e.accelY.toFixed(4),e.accelZ.toFixed(4),e.accelMag.toFixed(4)];t+=i.join(",")+"\n"}),t},resetReps:()=>{B.current.reset(),A(B.current.getStats())},formatTime:e=>"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0")),repCounterRef:B,rawDataLog:v}}({connected:r,recommendedReps:N,recommendedSets:k,onWorkoutComplete:a=>{let{workoutStats:r,repData:i,chartData:l}=a,n=r.allRepDurations.length>0?r.allRepDurations.reduce((e,t)=>e+t,0)/r.allRepDurations.length:0,o=q();o&&(sessionStorage.setItem("workoutCSV",o),sessionStorage.setItem("workoutCSVFilename","applift_".concat(s,"_").concat(new Date().toISOString().replace(/[:.]/g,"-"),".csv"))),e.push({pathname:"/workout-finished",query:{workoutName:s,equipment:t,totalReps:r.totalReps,calories:Math.round(5*r.totalReps),totalTime:r.totalTime,avgConcentric:(.4*n).toFixed(1),avgEccentric:(.6*n).toFixed(1),chartData:JSON.stringify(l.filteredAccelData),timeData:JSON.stringify(l.timeData),setsData:JSON.stringify(r.setData),recommendedSets:k,hasCSV:"true"}})}}),ee=()=>{if(Z(),$.current.length>0&&confirm("Recorded ".concat(I.repCount," reps with ").concat($.current.length," samples. Download CSV?"))){let e=new Blob([q()],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="applift_".concat(s,"_").concat(new Date().toISOString().replace(/[:.]/g,"-"),".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)}};return(0,a.jsxs)("div",{className:"relative min-h-screen bg-black text-white",children:[(0,a.jsx)(i(),{children:(0,a.jsxs)("title",{children:["Workout Monitor — ",s," — AppLift"]})}),D&&(0,a.jsx)("div",{className:"countdown-overlay fixed inset-0 z-[100] flex items-center justify-center bg-black/90 animate-fadeIn",children:(0,a.jsx)("div",{className:"text-7xl sm:text-8xl md:text-9xl font-bold text-white animate-pulse",children:R})}),_&&(0,a.jsx)("div",{className:"break-overlay fixed inset-0 z-[100] flex items-center justify-center bg-black px-4 animate-fadeIn",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-8 sm:gap-10",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 sm:mb-4",children:"Take a break!"}),(0,a.jsx)("div",{className:"text-base sm:text-lg md:text-xl text-white/70",children:T})]}),(0,a.jsxs)("div",{className:"relative w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 256 256",children:[(0,a.jsx)("circle",{cx:"128",cy:"128",r:"110",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"16",fill:"none"}),(0,a.jsx)("circle",{cx:"128",cy:"128",r:"110",stroke:"url(#breakGradient)",strokeWidth:"16",fill:"none",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*110),strokeDashoffset:"".concat(2*Math.PI*110*(1-(30-L)/30)),style:{transition:M?"none":"stroke-dashoffset 1s linear",filter:"drop-shadow(0 0 8px rgba(168, 85, 247, 0.8))"}}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"breakGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:L>20?"#e9d5ff":L>10?"#c084fc":"#9333ea"}),(0,a.jsx)("stop",{offset:"50%",stopColor:L>15?"#c084fc":"#a855f7"}),(0,a.jsx)("stop",{offset:"100%",stopColor:L>10?"#a855f7":"#7c3aed"})]})})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:(0,a.jsxs)("div",{className:"text-6xl sm:text-7xl md:text-8xl font-bold text-white",children:[Math.floor(L/60),":",(L%60).toString().padStart(2,"0")]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-8 sm:gap-12",children:[(0,a.jsxs)("button",{onClick:W,className:"flex flex-col items-center gap-2 transition-all hover:scale-110",children:[(0,a.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white/10 flex items-center justify-center",children:M?(0,a.jsx)("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-white ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})}):(0,a.jsx)("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})})}),(0,a.jsx)("span",{className:"text-sm sm:text-base text-white/80",children:M?"Resume":"Pause"})]}),(0,a.jsxs)("button",{onClick:U,className:"flex flex-col items-center gap-2 transition-all hover:scale-110",children:[(0,a.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white/10 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-7 h-7 sm:w-9 sm:h-9 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}),(0,a.jsx)("span",{className:"text-sm sm:text-base text-white/80",children:"End"})]})]})]})}),(0,a.jsx)(d,{notification:v,onDismiss:()=>j(null)}),(0,a.jsxs)("main",{className:"relative mx-auto w-full max-w-4xl px-3 sm:px-4 md:px-6 pt-4 sm:pt-6 space-y-3 sm:space-y-4 h-screen overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative z-10 flex items-center justify-between content-fade-up-1",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"flex items-center justify-center h-10 w-10 rounded-lg hover:bg-white/20 transition-all","aria-label":"Go back",children:(0,a.jsx)("img",{src:"/images/icons/arrow-point-to-left.png",alt:"Back",className:"w-5 h-5 filter brightness-0 invert"})}),(0,a.jsx)(u.Z,{connected:r,device:o,onScan:b,onConnect:w,onDisconnect:y,scanning:f,devicesFound:p,availability:g})]}),(0,a.jsxs)("div",{className:"relative z-10 text-center content-fade-up-2",style:{animationDelay:"0.05s"},children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:s}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-white/60",children:t})]}),!r&&C&&(0,a.jsx)("div",{className:"relative z-10 rounded-xl bg-red-500/20 border border-red-500/50 p-4 text-center animate-pulse content-fade-up-2",style:{animationDelay:"0.15s"},children:(0,a.jsx)("p",{className:"text-sm text-red-300 font-semibold",children:"⚠️ Device disconnected. Please reconnect to continue session."})}),!r&&!C&&(0,a.jsx)("div",{className:"relative z-10 rounded-xl bg-red-500/20 border border-red-500/50 p-4 text-center content-fade-up-2",style:{animationDelay:"0.15s"},children:(0,a.jsx)("p",{className:"text-sm text-red-300",children:"⚠️ Device not connected. Please connect your IMU device."})}),(0,a.jsx)("div",{className:"content-fade-up-3 absolute left-0 right-0 top-0 bottom-0",style:{animationDelay:"0.25s"},children:(0,a.jsx)(c,{timeData:O,filteredData:Y,thresholdHigh:I.thresholdHigh,thresholdLow:I.thresholdLow})})]}),(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 px-3 sm:px-4 md:px-6 pb-4 sm:pb-6 pt-2 sm:pt-3 z-20",style:{background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.8) 50%, rgba(0,0,0,0) 100%)"},children:(0,a.jsx)("div",{className:"mx-auto w-full max-w-4xl",children:(0,a.jsxs)("div",{className:"content-fade-up-4",style:{animationDelay:"0.35s"},children:[(0,a.jsx)("div",{className:"p-3 sm:p-4 flex items-center justify-between",children:C?(0,a.jsx)(a.Fragment,{children:S?(0,a.jsxs)("button",{onClick:G,className:"w-full py-3 sm:py-4 rounded-full font-bold text-white text-lg sm:text-xl md:text-2xl transition-all flex items-center justify-between px-4 sm:px-6 md:px-8",style:{background:"linear-gradient(to bottom right, #c084fc 0%, #9333ea 100%)",boxShadow:"0 4px 12px rgba(147, 51, 234, 0.3)"},children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,a.jsx)("span",{children:K(E)}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),ee()},className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-red-500/80 hover:bg-red-500 flex items-center justify-center transition-all",children:(0,a.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("rect",{x:"6",y:"6",width:"12",height:"12"})})})]}):(0,a.jsxs)("button",{onClick:G,className:"w-full py-3 sm:py-4 rounded-full font-bold text-white text-lg sm:text-xl md:text-2xl transition-all flex items-center justify-center gap-2 sm:gap-3",style:{background:"linear-gradient(to bottom right, #c084fc 0%, #9333ea 100%)",boxShadow:"0 4px 12px rgba(147, 51, 234, 0.3)"},children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})})}),(0,a.jsx)("span",{children:K(E)})]})}):(0,a.jsxs)("button",{onClick:H,disabled:!r||!X,className:"w-full py-3 sm:py-4 rounded-full font-bold text-white text-lg sm:text-xl md:text-2xl transition-all disabled:opacity-50 flex items-center justify-center gap-2 sm:gap-3",style:{background:"linear-gradient(to bottom right, #c084fc 0%, #9333ea 100%)",boxShadow:"0 4px 12px rgba(147, 51, 234, 0.3)"},children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,a.jsx)("span",{children:"Start Recording"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 pt-2 pb-3 sm:pb-4",children:[(0,a.jsxs)("div",{className:"rounded-xl sm:rounded-2xl p-2.5 sm:p-3.5 relative",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4 mb-7 sm:mb-8",children:[(0,a.jsx)("img",{src:"/images/applift-logo/AppLift_Logo_White.png",alt:"AppLift",className:"w-6 h-6 sm:w-7 sm:h-7"}),(0,a.jsx)("span",{className:"text-sm sm:text-base font-semibold text-white/90",children:"Reps"})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1 sm:gap-1.5",children:[(0,a.jsx)("span",{className:"text-5xl sm:text-6xl font-bold text-white",children:I.repCount}),(0,a.jsx)("span",{className:"text-2xl sm:text-3xl font-semibold text-white/60",children:"/"}),(0,a.jsx)("span",{className:"text-3xl sm:text-4xl font-semibold text-white/70",children:N})]}),(0,a.jsx)("span",{className:"absolute bottom-2.5 right-2.5 sm:bottom-3.5 sm:right-3.5 text-[10px] sm:text-xs font-semibold px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full bg-purple-500/30 text-purple-200",children:I.state.toLowerCase()})]}),(0,a.jsxs)("div",{className:"rounded-xl sm:rounded-2xl p-2.5 sm:p-3.5 flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[(0,a.jsx)("span",{className:"text-xl sm:text-2xl",children:"\uD83D\uDCCA"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-white/90",children:"Set"})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1 sm:gap-1.5",children:[(0,a.jsx)("span",{className:"text-5xl sm:text-6xl font-bold text-white",children:P}),(0,a.jsx)("span",{className:"text-2xl sm:text-3xl font-semibold text-white/60",children:"/"}),(0,a.jsx)("span",{className:"text-3xl sm:text-4xl font-semibold text-white/70",children:k})]})]})]})]})})})]})}},5152:function(e,t,s){e.exports=s(2602)}},function(e){e.O(0,[742,888,774,179],function(){return e(e.s=1252)}),_N_E=e.O()}]);